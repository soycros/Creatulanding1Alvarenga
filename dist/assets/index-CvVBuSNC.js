(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function ag(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lh={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function r_(){if(Mp)return Ce;Mp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function F(O,Q,de){this.props=O,this.context=Q,this.refs=B,this.updater=de||z}F.prototype.isReactComponent={},F.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=F.prototype;function H(O,Q,de){this.props=O,this.context=Q,this.refs=B,this.updater=de||z}var K=H.prototype=new W;K.constructor=H,L(K,F.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,fe=Object.prototype.hasOwnProperty,pe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(O,Q,de){var Se,Ie={},ke=null,be=null;if(Q!=null)for(Se in Q.ref!==void 0&&(be=Q.ref),Q.key!==void 0&&(ke=""+Q.key),Q)fe.call(Q,Se)&&!k.hasOwnProperty(Se)&&(Ie[Se]=Q[Se]);var Fe=arguments.length-2;if(Fe===1)Ie.children=de;else if(1<Fe){for(var $e=Array(Fe),Et=0;Et<Fe;Et++)$e[Et]=arguments[Et+2];Ie.children=$e}if(O&&O.defaultProps)for(Se in Fe=O.defaultProps,Fe)Ie[Se]===void 0&&(Ie[Se]=Fe[Se]);return{$$typeof:i,type:O,key:ke,ref:be,props:Ie,_owner:pe.current}}function C(O,Q){return{$$typeof:i,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function P(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return Q[de]})}var V=/\/+/g;function R(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):Q.toString(36)}function Ge(O,Q,de,Se,Ie){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(ke){case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case i:case e:be=!0}}if(be)return be=O,Ie=Ie(be),O=Se===""?"."+R(be,0):Se,Z(Ie)?(de="",O!=null&&(de=O.replace(V,"$&/")+"/"),Ge(Ie,Q,de,"",function(Et){return Et})):Ie!=null&&(P(Ie)&&(Ie=C(Ie,de+(!Ie.key||be&&be.key===Ie.key?"":(""+Ie.key).replace(V,"$&/")+"/")+O)),Q.push(Ie)),1;if(be=0,Se=Se===""?".":Se+":",Z(O))for(var Fe=0;Fe<O.length;Fe++){ke=O[Fe];var $e=Se+R(ke,Fe);be+=Ge(ke,Q,de,$e,Ie)}else if($e=S(O),typeof $e=="function")for(O=$e.call(O),Fe=0;!(ke=O.next()).done;)ke=ke.value,$e=Se+R(ke,Fe++),be+=Ge(ke,Q,de,$e,Ie);else if(ke==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return be}function ht(O,Q,de){if(O==null)return O;var Se=[],Ie=0;return Ge(O,Se,"","",function(ke){return Q.call(de,ke,Ie++)}),Se}function ft(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Oe={current:null},ne={transition:null},ge={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ne,ReactCurrentOwner:pe};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:ht,forEach:function(O,Q,de){ht(O,function(){Q.apply(this,arguments)},de)},count:function(O){var Q=0;return ht(O,function(){Q++}),Q},toArray:function(O){return ht(O,function(Q){return Q})||[]},only:function(O){if(!P(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=F,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=H,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ce.act=oe,Ce.cloneElement=function(O,Q,de){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Se=L({},O.props),Ie=O.key,ke=O.ref,be=O._owner;if(Q!=null){if(Q.ref!==void 0&&(ke=Q.ref,be=pe.current),Q.key!==void 0&&(Ie=""+Q.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for($e in Q)fe.call(Q,$e)&&!k.hasOwnProperty($e)&&(Se[$e]=Q[$e]===void 0&&Fe!==void 0?Fe[$e]:Q[$e])}var $e=arguments.length-2;if($e===1)Se.children=de;else if(1<$e){Fe=Array($e);for(var Et=0;Et<$e;Et++)Fe[Et]=arguments[Et+2];Se.children=Fe}return{$$typeof:i,type:O.type,key:Ie,ref:ke,props:Se,_owner:be}},Ce.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Ce.createElement=T,Ce.createFactory=function(O){var Q=T.bind(null,O);return Q.type=O,Q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=P,Ce.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ft}},Ce.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},Ce.startTransition=function(O){var Q=ne.transition;ne.transition={};try{O()}finally{ne.transition=Q}},Ce.unstable_act=oe,Ce.useCallback=function(O,Q){return Oe.current.useCallback(O,Q)},Ce.useContext=function(O){return Oe.current.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O){return Oe.current.useDeferredValue(O)},Ce.useEffect=function(O,Q){return Oe.current.useEffect(O,Q)},Ce.useId=function(){return Oe.current.useId()},Ce.useImperativeHandle=function(O,Q,de){return Oe.current.useImperativeHandle(O,Q,de)},Ce.useInsertionEffect=function(O,Q){return Oe.current.useInsertionEffect(O,Q)},Ce.useLayoutEffect=function(O,Q){return Oe.current.useLayoutEffect(O,Q)},Ce.useMemo=function(O,Q){return Oe.current.useMemo(O,Q)},Ce.useReducer=function(O,Q,de){return Oe.current.useReducer(O,Q,de)},Ce.useRef=function(O){return Oe.current.useRef(O)},Ce.useState=function(O){return Oe.current.useState(O)},Ce.useSyncExternalStore=function(O,Q,de){return Oe.current.useSyncExternalStore(O,Q,de)},Ce.useTransition=function(){return Oe.current.useTransition()},Ce.version="18.3.1",Ce}var bp;function lg(){return bp||(bp=1,lh.exports=r_()),lh.exports}var j=lg();const ee=ag(j);var Wl={},uh={exports:{}},Jt={},ch={exports:{}},hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function i_(){return Fp||(Fp=1,function(i){function e(ne,ge){var oe=ne.length;ne.push(ge);e:for(;0<oe;){var O=oe-1>>>1,Q=ne[O];if(0<a(Q,ge))ne[O]=ge,ne[oe]=Q,oe=O;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ge=ne[0],oe=ne.pop();if(oe!==ge){ne[0]=oe;e:for(var O=0,Q=ne.length,de=Q>>>1;O<de;){var Se=2*(O+1)-1,Ie=ne[Se],ke=Se+1,be=ne[ke];if(0>a(Ie,oe))ke<Q&&0>a(be,Ie)?(ne[O]=be,ne[ke]=oe,O=ke):(ne[O]=Ie,ne[Se]=oe,O=Se);else if(ke<Q&&0>a(be,oe))ne[O]=be,ne[ke]=oe,O=ke;else break e}}return ge}function a(ne,ge){var oe=ne.sortIndex-ge.sortIndex;return oe!==0?oe:ne.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,A=null,S=3,z=!1,L=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ne){for(var ge=n(v);ge!==null;){if(ge.callback===null)s(v);else if(ge.startTime<=ne)s(v),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=n(v)}}function Z(ne){if(B=!1,K(ne),!L)if(n(g)!==null)L=!0,ft(fe);else{var ge=n(v);ge!==null&&Oe(Z,ge.startTime-ne)}}function fe(ne,ge){L=!1,B&&(B=!1,W(T),T=-1),z=!0;var oe=S;try{for(K(ge),A=n(g);A!==null&&(!(A.expirationTime>ge)||ne&&!D());){var O=A.callback;if(typeof O=="function"){A.callback=null,S=A.priorityLevel;var Q=O(A.expirationTime<=ge);ge=i.unstable_now(),typeof Q=="function"?A.callback=Q:A===n(g)&&s(g),K(ge)}else s(g);A=n(g)}if(A!==null)var de=!0;else{var Se=n(v);Se!==null&&Oe(Z,Se.startTime-ge),de=!1}return de}finally{A=null,S=oe,z=!1}}var pe=!1,k=null,T=-1,C=5,P=-1;function D(){return!(i.unstable_now()-P<C)}function V(){if(k!==null){var ne=i.unstable_now();P=ne;var ge=!0;try{ge=k(!0,ne)}finally{ge?R():(pe=!1,k=null)}}else pe=!1}var R;if(typeof H=="function")R=function(){H(V)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,ht=Ge.port2;Ge.port1.onmessage=V,R=function(){ht.postMessage(null)}}else R=function(){F(V,0)};function ft(ne){k=ne,pe||(pe=!0,R())}function Oe(ne,ge){T=F(function(){ne(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){L||z||(L=!0,ft(fe))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var oe=S;S=ge;try{return ne()}finally{S=oe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=S;S=ne;try{return ge()}finally{S=oe}},i.unstable_scheduleCallback=function(ne,ge,oe){var O=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,ne={id:w++,callback:ge,priorityLevel:ne,startTime:oe,expirationTime:Q,sortIndex:-1},oe>O?(ne.sortIndex=oe,e(v,ne),n(g)===null&&ne===n(v)&&(B?(W(T),T=-1):B=!0,Oe(Z,oe-O))):(ne.sortIndex=Q,e(g,ne),L||z||(L=!0,ft(fe))),ne},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ne){var ge=S;return function(){var oe=S;S=ge;try{return ne.apply(this,arguments)}finally{S=oe}}}}(hh)),hh}var zp;function s_(){return zp||(zp=1,ch.exports=i_()),ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function o_(){if(Up)return Jt;Up=1;var i=lg(),e=s_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},A={};function S(t){return g.call(A,t)?!0:g.call(w,t)?!1:v.test(t)?A[t]=!0:(w[t]=!0,!1)}function z(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,r,o,u){if(r===null||typeof r>"u"||z(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function B(t,r,o,u,f,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];F[r]=new B(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(W,H);F[r]=new B(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(W,H);F[r]=new B(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(W,H);F[r]=new B(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function K(t,r,o,u){var f=F.hasOwnProperty(r)?F[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(L(r,o,f,u)&&(o=null),u||f===null?S(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),pe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,O;function Q(t){if(O===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var de=!1;function Se(t,r){if(!t||de)return"";de=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var u=$}Reflect.construct(t,[],r)}else{try{r.call()}catch($){u=$}t.call(r.prototype)}else{try{throw Error()}catch($){u=$}t()}}catch($){if($&&u&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),p=u.stack.split(`
`),_=f.length-1,I=p.length-1;1<=_&&0<=I&&f[_]!==p[I];)I--;for(;1<=_&&0<=I;_--,I--)if(f[_]!==p[I]){if(_!==1||I!==1)do if(_--,I--,0>I||f[_]!==p[I]){var x=`
`+f[_].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=_&&0<=I);break}}}finally{de=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ie(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case pe:return"Portal";case C:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case Ge:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case V:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ht:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case ft:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $e(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Et(t){var r=$e(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=Et(t))}function Ki(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=$e(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Ir(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ci(t,r){var o=r.checked;return oe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Qi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ao(t,r){r=r.checked,r!=null&&K(t,"checked",r,!1)}function lo(t,r){ao(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Gi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Gi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Da(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Gi(t,r,o){(r!=="number"||Ir(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tr=Array.isArray;function nr(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function uo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Yi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function co(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?dt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,ho=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(t){fi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),hi[r]=hi[t]})});function fo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||hi.hasOwnProperty(t)&&hi[t]?(""+r).trim():r+"px"}function po(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=fo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var mo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(t,r){if(r){if(mo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function yo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function Ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,ln=null,Ln=null;function es(t){if(t=Bo(t)){if(typeof Zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=al(r),Zi(t.stateNode,t.type,r))}}function On(t){ln?Ln?Ln.push(t):Ln=[t]:ln=t}function vo(){if(ln){var t=ln,r=Ln;if(Ln=ln=null,es(t),r)for(t=0;t<r.length;t++)es(r[t])}}function pi(t,r){return t(r)}function _o(){}var ir=!1;function Eo(t,r,o){if(ir)return t(r,o);ir=!0;try{return pi(t,r,o)}finally{ir=!1,(ln!==null||Ln!==null)&&(_o(),vo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=al(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ts=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){ts=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{ts=!1}function mi(t,r,o,u,f,p,_,I,x){var $=Array.prototype.slice.call(arguments,3);try{r.apply(o,$)}catch(Y){this.onError(Y)}}var gi=!1,ns=null,En=!1,wo=null,Mu={onError:function(t){gi=!0,ns=t}};function rs(t,r,o,u,f,p,_,I,x){gi=!1,ns=null,mi.apply(Mu,arguments)}function Na(t,r,o,u,f,p,_,I,x){if(rs.apply(this,arguments),gi){if(gi){var $=ns;gi=!1,ns=null}else throw Error(n(198));En||(En=!0,wo=$)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function yi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function Va(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Tn(f),t;if(p===u)return Tn(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=p;else{for(var _=!1,I=f.child;I;){if(I===o){_=!0,o=f,u=p;break}if(I===u){_=!0,u=f,o=p;break}I=I.sibling}if(!_){for(I=p.child;I;){if(I===o){_=!0,o=p,u=f;break}if(I===u){_=!0,u=p,o=f;break}I=I.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function To(t){return t=Va(t),t!==null?is(t):null}function is(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=is(t);if(r!==null)return r;t=t.sibling}return null}var ss=e.unstable_scheduleCallback,So=e.unstable_cancelCallback,La=e.unstable_shouldYield,bu=e.unstable_requestPaint,je=e.unstable_now,Oa=e.unstable_getCurrentPriorityLevel,vi=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,Io=e.unstable_LowPriority,Ma=e.unstable_IdlePriority,_i=null,en=null;function ba(t){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(_i,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:za,Co=Math.log,Fa=Math.LN2;function za(t){return t>>>=0,t===0?32:31-(Co(t)/Fa|0)|0}var os=64,as=4194304;function Rr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ei(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var I=_&~f;I!==0?u=Rr(I):(p&=_,p!==0&&(u=Rr(p)))}else _=o&~f,_!==0?u=Rr(_):p!==0&&(u=Rr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-zt(r),f=1<<o,u|=t[o],r&=~f;return u}function Fu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-zt(p),I=1<<_,x=f[_];x===-1?((I&o)===0||(I&u)!==0)&&(f[_]=Fu(I,r)):x<=r&&(t.expiredLanes|=I),p&=~I}}function tn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wi(){var t=os;return os<<=1,(os&4194240)===0&&(os=64),t}function kr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Pr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-zt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-zt(o),p=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~p}}function xr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-zt(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var Re=0;function Dr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ua,ls,Ba,$a,ja,Ao=!1,Mn=[],At=null,Sn=null,In=null,Nr=new Map,cn=new Map,bn=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ha(t,r){switch(t){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Nr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function qt(t,r,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Bo(r),r!==null&&ls(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Uu(t,r,o,u,f){switch(r){case"focusin":return At=qt(At,t,r,o,u,f),!0;case"dragenter":return Sn=qt(Sn,t,r,o,u,f),!0;case"mouseover":return In=qt(In,t,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return Nr.set(p,qt(Nr.get(p)||null,t,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,cn.set(p,qt(cn.get(p)||null,t,r,o,u,f)),!0}return!1}function qa(t){var r=Ai(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=yi(o),r!==null){t.blockedOn=r,ja(t.priority,function(){Ba(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function or(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=us(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return r=Bo(o),r!==null&&ls(r),t.blockedOn=o,!1;r.shift()}return!0}function Ti(t,r,o){or(t)&&o.delete(r)}function Wa(){Ao=!1,At!==null&&or(At)&&(At=null),Sn!==null&&or(Sn)&&(Sn=null),In!==null&&or(In)&&(In=null),Nr.forEach(Ti),cn.forEach(Ti)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,Ao||(Ao=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wa)))}function An(t){function r(f){return Cn(f,t)}if(0<Mn.length){Cn(Mn[0],t);for(var o=1;o<Mn.length;o++){var u=Mn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(At!==null&&Cn(At,t),Sn!==null&&Cn(Sn,t),In!==null&&Cn(In,t),Nr.forEach(r),cn.forEach(r),o=0;o<bn.length;o++)u=bn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<bn.length&&(o=bn[0],o.blockedOn===null);)qa(o),o.blockedOn===null&&bn.shift()}var ar=Z.ReactCurrentBatchConfig,Vr=!0;function Ke(t,r,o,u){var f=Re,p=ar.transition;ar.transition=null;try{Re=1,Ro(t,r,o,u)}finally{Re=f,ar.transition=p}}function Bu(t,r,o,u){var f=Re,p=ar.transition;ar.transition=null;try{Re=4,Ro(t,r,o,u)}finally{Re=f,ar.transition=p}}function Ro(t,r,o,u){if(Vr){var f=us(t,r,o,u);if(f===null)Ju(t,r,u,Si,o),Ha(t,u);else if(Uu(f,t,r,o,u))u.stopPropagation();else if(Ha(t,u),r&4&&-1<zu.indexOf(t)){for(;f!==null;){var p=Bo(f);if(p!==null&&Ua(p),p=us(t,r,o,u),p===null&&Ju(t,r,u,Si,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Ju(t,r,u,null,o)}}var Si=null;function us(t,r,o,u){if(Si=null,t=Ji(u),t=Ai(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=yi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Si=t,null}function ko(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oa()){case vi:return 1;case Ar:return 4;case un:case Io:return 16;case Ma:return 536870912;default:return 16}default:return 16}}var nn=null,cs=null,Wt=null;function Po(){if(Wt)return Wt;var t,r=cs,o=r.length,u,f="value"in nn?nn.value:nn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===f[p-u];u++);return Wt=f.slice(t,1<u?1-u:void 0)}function hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function xo(){return!1}function Rt(t){function r(o,u,f,p,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:xo,this.isPropagationStopped=xo,this}return oe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Rt(Rn),zn=oe({},Rn,{view:0,detail:0}),$u=Rt(zn),ds,lr,Lr,Ii=oe({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(ds=t.screenX-Lr.screenX,lr=t.screenY-Lr.screenY):lr=ds=0,Lr=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),ps=Rt(Ii),Do=oe({},Ii,{dataTransfer:0}),Ka=Rt(Do),ms=oe({},zn,{relatedTarget:0}),gs=Rt(ms),Qa=oe({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=Rt(Qa),Ga=oe({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xa=Rt(Ga),Ya=oe({},Rn,{data:0}),No=Rt(Ya),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ja[t])?!!r[t]:!1}function Un(){return Za}var l=oe({},zn,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Rt(l),y=oe({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Rt(y),M=oe({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),q=Rt(M),re=oe({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Rt(re),mt=oe({},Ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Rt(mt),wt=[9,13,27,32],ot=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var rn=m&&"TextEvent"in window&&!hn,Ci=m&&(!ot||hn&&8<hn&&11>=hn),vs=" ",xf=!1;function Df(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function ev(t,r){switch(t){case"compositionend":return Nf(r);case"keypress":return r.which!==32?null:(xf=!0,vs);case"textInput":return t=r.data,t===vs&&xf?null:t;default:return null}}function tv(t,r){if(_s)return t==="compositionend"||!ot&&Df(t,r)?(t=Po(),Wt=cs=nn=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var nv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!nv[t.type]:r==="textarea"}function Lf(t,r,o,u){On(u),r=il(r,"onChange"),0<r.length&&(o=new fs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Vo=null,Lo=null;function rv(t){Jf(t,0)}function el(t){var r=Is(t);if(Ki(r))return t}function iv(t,r){if(t==="change")return r}var Of=!1;if(m){var ju;if(m){var Hu="oninput"in document;if(!Hu){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),Hu=typeof Mf.oninput=="function"}ju=Hu}else ju=!1;Of=ju&&(!document.documentMode||9<document.documentMode)}function bf(){Vo&&(Vo.detachEvent("onpropertychange",Ff),Lo=Vo=null)}function Ff(t){if(t.propertyName==="value"&&el(Lo)){var r=[];Lf(r,Lo,t,Ji(t)),Eo(rv,r)}}function sv(t,r,o){t==="focusin"?(bf(),Vo=r,Lo=o,Vo.attachEvent("onpropertychange",Ff)):t==="focusout"&&bf()}function ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(Lo)}function av(t,r){if(t==="click")return el(r)}function lv(t,r){if(t==="input"||t==="change")return el(r)}function uv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:uv;function Oo(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!g.call(r,f)||!kn(t[f],r[f]))return!1}return!0}function zf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uf(t,r){var o=zf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zf(o)}}function Bf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function $f(){for(var t=window,r=Ir();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Ir(t.document)}return r}function qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function cv(t){var r=$f(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Bf(o.ownerDocument.documentElement,o)){if(u!==null&&qu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!t.extend&&p>u&&(f=u,u=p,p=f),f=Uf(o,p);var _=Uf(o,u);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hv=m&&"documentMode"in document&&11>=document.documentMode,Es=null,Wu=null,Mo=null,Ku=!1;function jf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ku||Es==null||Es!==Ir(u)||(u=Es,"selectionStart"in u&&qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Mo&&Oo(Mo,u)||(Mo=u,u=il(Wu,"onSelect"),0<u.length&&(r=new fs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Es)))}function tl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ws={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Qu={},Hf={};m&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function nl(t){if(Qu[t])return Qu[t];if(!ws[t])return t;var r=ws[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hf)return Qu[t]=r[o];return t}var qf=nl("animationend"),Wf=nl("animationiteration"),Kf=nl("animationstart"),Qf=nl("transitionend"),Gf=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,r){Gf.set(t,r),c(r,[t])}for(var Gu=0;Gu<Xf.length;Gu++){var Xu=Xf[Gu],fv=Xu.toLowerCase(),dv=Xu[0].toUpperCase()+Xu.slice(1);Or(fv,"on"+dv)}Or(qf,"onAnimationEnd"),Or(Wf,"onAnimationIteration"),Or(Kf,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Qf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pv=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function Yf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Na(u,r,void 0,t),t.currentTarget=null}function Jf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var I=u[_],x=I.instance,$=I.currentTarget;if(I=I.listener,x!==p&&f.isPropagationStopped())break e;Yf(f,I,$),p=x}else for(_=0;_<u.length;_++){if(I=u[_],x=I.instance,$=I.currentTarget,I=I.listener,x!==p&&f.isPropagationStopped())break e;Yf(f,I,$),p=x}}}if(En)throw t=wo,En=!1,wo=null,t}function qe(t,r){var o=r[ic];o===void 0&&(o=r[ic]=new Set);var u=t+"__bubble";o.has(u)||(Zf(r,t,2,!1),o.add(u))}function Yu(t,r,o){var u=0;r&&(u|=4),Zf(o,t,u,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[rl]){t[rl]=!0,s.forEach(function(o){o!=="selectionchange"&&(pv.has(o)||Yu(o,!1,t),Yu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rl]||(r[rl]=!0,Yu("selectionchange",!1,r))}}function Zf(t,r,o,u){switch(ko(r)){case 1:var f=Ke;break;case 4:f=Bu;break;default:f=Ro}o=f.bind(null,r,o,t),f=void 0,!ts||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Ju(t,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var I=u.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;_=_.return}for(;I!==null;){if(_=Ai(I),_===null)return;if(x=_.tag,x===5||x===6){u=p=_;continue e}I=I.parentNode}}u=u.return}Eo(function(){var $=p,Y=Ji(o),J=[];e:{var X=Gf.get(t);if(X!==void 0){var se=fs,ue=t;switch(t){case"keypress":if(hs(o)===0)break e;case"keydown":case"keyup":se=d;break;case"focusin":ue="focus",se=gs;break;case"focusout":ue="blur",se=gs;break;case"beforeblur":case"afterblur":se=gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Ka;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=q;break;case qf:case Wf:case Kf:se=ur;break;case Qf:se=ze;break;case"scroll":se=$u;break;case"wheel":se=Pe;break;case"copy":case"cut":case"paste":se=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(r&4)!==0,rt=!ce&&t==="scroll",b=ce?X!==null?X+"Capture":null:X;ce=[];for(var N=$,U;N!==null;){U=N;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,b!==null&&(te=nt(N,b),te!=null&&ce.push(zo(N,te,U)))),rt)break;N=N.return}0<ce.length&&(X=new se(X,ue,null,o,Y),J.push({event:X,listeners:ce}))}}if((r&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",X&&o!==di&&(ue=o.relatedTarget||o.fromElement)&&(Ai(ue)||ue[cr]))break e;if((se||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ue=o.relatedTarget||o.toElement,se=$,ue=ue?Ai(ue):null,ue!==null&&(rt=wn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=$),se!==ue)){if(ce=ps,te="onMouseLeave",b="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,te="onPointerLeave",b="onPointerEnter",N="pointer"),rt=se==null?X:Is(se),U=ue==null?X:Is(ue),X=new ce(te,N+"leave",se,o,Y),X.target=rt,X.relatedTarget=U,te=null,Ai(Y)===$&&(ce=new ce(b,N+"enter",ue,o,Y),ce.target=U,ce.relatedTarget=rt,te=ce),rt=te,se&&ue)t:{for(ce=se,b=ue,N=0,U=ce;U;U=Ts(U))N++;for(U=0,te=b;te;te=Ts(te))U++;for(;0<N-U;)ce=Ts(ce),N--;for(;0<U-N;)b=Ts(b),U--;for(;N--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=Ts(ce),b=Ts(b)}ce=null}else ce=null;se!==null&&ed(J,X,se,ce,!1),ue!==null&&rt!==null&&ed(J,rt,ue,ce,!0)}}e:{if(X=$?Is($):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var he=iv;else if(Vf(X))if(Of)he=lv;else{he=ov;var ye=sv}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=av);if(he&&(he=he(t,$))){Lf(J,he,o,Y);break e}ye&&ye(t,X,$),t==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Gi(X,"number",X.value)}switch(ye=$?Is($):window,t){case"focusin":(Vf(ye)||ye.contentEditable==="true")&&(Es=ye,Wu=$,Mo=null);break;case"focusout":Mo=Wu=Es=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,jf(J,o,Y);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":jf(J,o,Y)}var ve;if(ot)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else _s?Df(t,o)&&(Ee="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ci&&o.locale!=="ko"&&(_s||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&_s&&(ve=Po()):(nn=Y,cs="value"in nn?nn.value:nn.textContent,_s=!0)),ye=il($,Ee),0<ye.length&&(Ee=new No(Ee,t,null,o,Y),J.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=Nf(o),ve!==null&&(Ee.data=ve)))),(ve=rn?ev(t,o):tv(t,o))&&($=il($,"onBeforeInput"),0<$.length&&(Y=new No("onBeforeInput","beforeinput",null,o,Y),J.push({event:Y,listeners:$}),Y.data=ve))}Jf(J,r)})}function zo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=nt(t,o),p!=null&&u.unshift(zo(t,p,f)),p=nt(t,r),p!=null&&u.push(zo(t,p,f))),t=t.return}return u}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ed(t,r,o,u,f){for(var p=r._reactName,_=[];o!==null&&o!==u;){var I=o,x=I.alternate,$=I.stateNode;if(x!==null&&x===u)break;I.tag===5&&$!==null&&(I=$,f?(x=nt(o,p),x!=null&&_.unshift(zo(o,x,I))):f||(x=nt(o,p),x!=null&&_.push(zo(o,x,I)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var mv=/\r\n?/g,gv=/\u0000|\uFFFD/g;function td(t){return(typeof t=="string"?t:""+t).replace(mv,`
`).replace(gv,"")}function sl(t,r,o){if(r=td(r),td(t)!==r&&o)throw Error(n(425))}function ol(){}var Zu=null,ec=null;function tc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,vv=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(t){return nd.resolve(null).then(t).catch(_v)}:nc;function _v(t){setTimeout(function(){throw t})}function rc(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),An(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);An(r)}function Mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function rd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Ss,Uo="__reactProps$"+Ss,cr="__reactContainer$"+Ss,ic="__reactEvents$"+Ss,Ev="__reactListeners$"+Ss,wv="__reactHandles$"+Ss;function Ai(t){var r=t[Bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[Bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=rd(t);t!==null;){if(o=t[Bn])return o;t=rd(t)}return r}t=o,o=t.parentNode}return null}function Bo(t){return t=t[Bn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function al(t){return t[Uo]||null}var sc=[],Cs=-1;function br(t){return{current:t}}function We(t){0>Cs||(t.current=sc[Cs],sc[Cs]=null,Cs--)}function He(t,r){Cs++,sc[Cs]=t.current,t.current=r}var Fr={},Nt=br(Fr),Kt=br(!1),Ri=Fr;function As(t,r){var o=t.type.contextTypes;if(!o)return Fr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Qt(t){return t=t.childContextTypes,t!=null}function ll(){We(Kt),We(Nt)}function id(t,r,o){if(Nt.current!==Fr)throw Error(n(168));He(Nt,r),He(Kt,o)}function sd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,be(t)||"Unknown",f));return oe({},o,u)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,Ri=Nt.current,He(Nt,t),He(Kt,Kt.current),!0}function od(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=sd(t,r,Ri),u.__reactInternalMemoizedMergedChildContext=t,We(Kt),We(Nt),He(Nt,t)):We(Kt),He(Kt,o)}var hr=null,cl=!1,oc=!1;function ad(t){hr===null?hr=[t]:hr.push(t)}function Tv(t){cl=!0,ad(t)}function zr(){if(!oc&&hr!==null){oc=!0;var t=0,r=Re;try{var o=hr;for(Re=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}hr=null,cl=!1}catch(f){throw hr!==null&&(hr=hr.slice(t+1)),ss(vi,zr),f}finally{Re=r,oc=!1}}return null}var Rs=[],ks=0,hl=null,fl=0,fn=[],dn=0,ki=null,fr=1,dr="";function Pi(t,r){Rs[ks++]=fl,Rs[ks++]=hl,hl=t,fl=r}function ld(t,r,o){fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=ki,ki=t;var u=fr;t=dr;var f=32-zt(u)-1;u&=~(1<<f),o+=1;var p=32-zt(r)+f;if(30<p){var _=f-f%5;p=(u&(1<<_)-1).toString(32),u>>=_,f-=_,fr=1<<32-zt(r)+f|o<<f|u,dr=p+t}else fr=1<<p|o<<f|u,dr=t}function ac(t){t.return!==null&&(Pi(t,1),ld(t,1,0))}function lc(t){for(;t===hl;)hl=Rs[--ks],Rs[ks]=null,fl=Rs[--ks],Rs[ks]=null;for(;t===ki;)ki=fn[--dn],fn[dn]=null,dr=fn[--dn],fn[dn]=null,fr=fn[--dn],fn[dn]=null}var sn=null,on=null,Qe=!1,Pn=null;function ud(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function cd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,sn=t,on=Mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,sn=t,on=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=ki!==null?{id:fr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,sn=t,on=null,!0):!1;default:return!1}}function uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cc(t){if(Qe){var r=on;if(r){var o=r;if(!cd(t,r)){if(uc(t))throw Error(n(418));r=Mr(o.nextSibling);var u=sn;r&&cd(t,r)?ud(u,o):(t.flags=t.flags&-4097|2,Qe=!1,sn=t)}}else{if(uc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Qe=!1,sn=t}}}function hd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function dl(t){if(t!==sn)return!1;if(!Qe)return hd(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!tc(t.type,t.memoizedProps)),r&&(r=on)){if(uc(t))throw fd(),Error(n(418));for(;r;)ud(t,r),r=Mr(r.nextSibling)}if(hd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){on=Mr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}on=null}}else on=sn?Mr(t.stateNode.nextSibling):null;return!0}function fd(){for(var t=on;t;)t=Mr(t.nextSibling)}function Ps(){on=sn=null,Qe=!1}function hc(t){Pn===null?Pn=[t]:Pn.push(t)}var Sv=Z.ReactCurrentBatchConfig;function $o(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var I=f.refs;_===null?delete I[p]:I[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function dd(t){var r=t._init;return r(t._payload)}function pd(t){function r(b,N){if(t){var U=b.deletions;U===null?(b.deletions=[N],b.flags|=16):U.push(N)}}function o(b,N){if(!t)return null;for(;N!==null;)r(b,N),N=N.sibling;return null}function u(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function f(b,N){return b=Kr(b,N),b.index=0,b.sibling=null,b}function p(b,N,U){return b.index=U,t?(U=b.alternate,U!==null?(U=U.index,U<N?(b.flags|=2,N):U):(b.flags|=2,N)):(b.flags|=1048576,N)}function _(b){return t&&b.alternate===null&&(b.flags|=2),b}function I(b,N,U,te){return N===null||N.tag!==6?(N=nh(U,b.mode,te),N.return=b,N):(N=f(N,U),N.return=b,N)}function x(b,N,U,te){var he=U.type;return he===k?Y(b,N,U.props.children,te,U.key):N!==null&&(N.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ft&&dd(he)===N.type)?(te=f(N,U.props),te.ref=$o(b,N,U),te.return=b,te):(te=Fl(U.type,U.key,U.props,null,b.mode,te),te.ref=$o(b,N,U),te.return=b,te)}function $(b,N,U,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=rh(U,b.mode,te),N.return=b,N):(N=f(N,U.children||[]),N.return=b,N)}function Y(b,N,U,te,he){return N===null||N.tag!==7?(N=bi(U,b.mode,te,he),N.return=b,N):(N=f(N,U),N.return=b,N)}function J(b,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=nh(""+N,b.mode,U),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fe:return U=Fl(N.type,N.key,N.props,null,b.mode,U),U.ref=$o(b,null,N),U.return=b,U;case pe:return N=rh(N,b.mode,U),N.return=b,N;case ft:var te=N._init;return J(b,te(N._payload),U)}if(tr(N)||ge(N))return N=bi(N,b.mode,U,null),N.return=b,N;pl(b,N)}return null}function X(b,N,U,te){var he=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(b,N,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case fe:return U.key===he?x(b,N,U,te):null;case pe:return U.key===he?$(b,N,U,te):null;case ft:return he=U._init,X(b,N,he(U._payload),te)}if(tr(U)||ge(U))return he!==null?null:Y(b,N,U,te,null);pl(b,U)}return null}function se(b,N,U,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return b=b.get(U)||null,I(N,b,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case fe:return b=b.get(te.key===null?U:te.key)||null,x(N,b,te,he);case pe:return b=b.get(te.key===null?U:te.key)||null,$(N,b,te,he);case ft:var ye=te._init;return se(b,N,U,ye(te._payload),he)}if(tr(te)||ge(te))return b=b.get(U)||null,Y(N,b,te,he,null);pl(N,te)}return null}function ue(b,N,U,te){for(var he=null,ye=null,ve=N,Ee=N=0,It=null;ve!==null&&Ee<U.length;Ee++){ve.index>Ee?(It=ve,ve=null):It=ve.sibling;var Me=X(b,ve,U[Ee],te);if(Me===null){ve===null&&(ve=It);break}t&&ve&&Me.alternate===null&&r(b,ve),N=p(Me,N,Ee),ye===null?he=Me:ye.sibling=Me,ye=Me,ve=It}if(Ee===U.length)return o(b,ve),Qe&&Pi(b,Ee),he;if(ve===null){for(;Ee<U.length;Ee++)ve=J(b,U[Ee],te),ve!==null&&(N=p(ve,N,Ee),ye===null?he=ve:ye.sibling=ve,ye=ve);return Qe&&Pi(b,Ee),he}for(ve=u(b,ve);Ee<U.length;Ee++)It=se(ve,b,Ee,U[Ee],te),It!==null&&(t&&It.alternate!==null&&ve.delete(It.key===null?Ee:It.key),N=p(It,N,Ee),ye===null?he=It:ye.sibling=It,ye=It);return t&&ve.forEach(function(Qr){return r(b,Qr)}),Qe&&Pi(b,Ee),he}function ce(b,N,U,te){var he=ge(U);if(typeof he!="function")throw Error(n(150));if(U=he.call(U),U==null)throw Error(n(151));for(var ye=he=null,ve=N,Ee=N=0,It=null,Me=U.next();ve!==null&&!Me.done;Ee++,Me=U.next()){ve.index>Ee?(It=ve,ve=null):It=ve.sibling;var Qr=X(b,ve,Me.value,te);if(Qr===null){ve===null&&(ve=It);break}t&&ve&&Qr.alternate===null&&r(b,ve),N=p(Qr,N,Ee),ye===null?he=Qr:ye.sibling=Qr,ye=Qr,ve=It}if(Me.done)return o(b,ve),Qe&&Pi(b,Ee),he;if(ve===null){for(;!Me.done;Ee++,Me=U.next())Me=J(b,Me.value,te),Me!==null&&(N=p(Me,N,Ee),ye===null?he=Me:ye.sibling=Me,ye=Me);return Qe&&Pi(b,Ee),he}for(ve=u(b,ve);!Me.done;Ee++,Me=U.next())Me=se(ve,b,Ee,Me.value,te),Me!==null&&(t&&Me.alternate!==null&&ve.delete(Me.key===null?Ee:Me.key),N=p(Me,N,Ee),ye===null?he=Me:ye.sibling=Me,ye=Me);return t&&ve.forEach(function(n_){return r(b,n_)}),Qe&&Pi(b,Ee),he}function rt(b,N,U,te){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case fe:e:{for(var he=U.key,ye=N;ye!==null;){if(ye.key===he){if(he=U.type,he===k){if(ye.tag===7){o(b,ye.sibling),N=f(ye,U.props.children),N.return=b,b=N;break e}}else if(ye.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ft&&dd(he)===ye.type){o(b,ye.sibling),N=f(ye,U.props),N.ref=$o(b,ye,U),N.return=b,b=N;break e}o(b,ye);break}else r(b,ye);ye=ye.sibling}U.type===k?(N=bi(U.props.children,b.mode,te,U.key),N.return=b,b=N):(te=Fl(U.type,U.key,U.props,null,b.mode,te),te.ref=$o(b,N,U),te.return=b,b=te)}return _(b);case pe:e:{for(ye=U.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){o(b,N.sibling),N=f(N,U.children||[]),N.return=b,b=N;break e}else{o(b,N);break}else r(b,N);N=N.sibling}N=rh(U,b.mode,te),N.return=b,b=N}return _(b);case ft:return ye=U._init,rt(b,N,ye(U._payload),te)}if(tr(U))return ue(b,N,U,te);if(ge(U))return ce(b,N,U,te);pl(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(o(b,N.sibling),N=f(N,U),N.return=b,b=N):(o(b,N),N=nh(U,b.mode,te),N.return=b,b=N),_(b)):o(b,N)}return rt}var xs=pd(!0),md=pd(!1),ml=br(null),gl=null,Ds=null,fc=null;function dc(){fc=Ds=gl=null}function pc(t){var r=ml.current;We(ml),t._currentValue=r}function mc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ns(t,r){gl=t,fc=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Gt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(fc!==t)if(t={context:t,memoizedValue:r,next:null},Ds===null){if(gl===null)throw Error(n(308));Ds=t,gl.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return r}var xi=null;function gc(t){xi===null?xi=[t]:xi.push(t)}function gd(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,gc(r)):(o.next=f.next,f.next=o),r.interleaved=o,pr(t,u)}function pr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Br(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,pr(t,o)}return f=u.interleaved,f===null?(r.next=r,gc(u)):(r.next=f.next,f.next=r),u.interleaved=r,pr(t,o)}function yl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,xr(t,o)}}function vd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function vl(t,r,o,u){var f=t.updateQueue;Ur=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var x=I,$=x.next;x.next=null,_===null?p=$:_.next=$,_=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,I=Y.lastBaseUpdate,I!==_&&(I===null?Y.firstBaseUpdate=$:I.next=$,Y.lastBaseUpdate=x))}if(p!==null){var J=f.baseState;_=0,Y=$=x=null,I=p;do{var X=I.lane,se=I.eventTime;if((u&X)===X){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ue=t,ce=I;switch(X=r,se=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(se,J,X);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,X=typeof ue=="function"?ue.call(se,J,X):ue,X==null)break e;J=oe({},J,X);break e;case 2:Ur=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,X=f.effects,X===null?f.effects=[I]:X.push(I))}else se={eventTime:se,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?($=Y=se,x=J):Y=Y.next=se,_|=X;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;X=I,I=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Y===null&&(x=J),f.baseState=x,f.firstBaseUpdate=$,f.lastBaseUpdate=Y,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Vi|=_,t.lanes=_,t.memoizedState=J}}function _d(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var jo={},$n=br(jo),Ho=br(jo),qo=br(jo);function Di(t){if(t===jo)throw Error(n(174));return t}function vc(t,r){switch(He(qo,r),He(Ho,t),He($n,jo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:pt(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=pt(r,t)}We($n),He($n,r)}function Vs(){We($n),We(Ho),We(qo)}function Ed(t){Di(qo.current);var r=Di($n.current),o=pt(r,t.type);r!==o&&(He(Ho,t),He($n,o))}function _c(t){Ho.current===t&&(We($n),We(Ho))}var Xe=br(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ec=[];function wc(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var El=Z.ReactCurrentDispatcher,Tc=Z.ReactCurrentBatchConfig,Ni=0,Ye=null,gt=null,Tt=null,wl=!1,Wo=!1,Ko=0,Iv=0;function Vt(){throw Error(n(321))}function Sc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!kn(t[o],r[o]))return!1;return!0}function Ic(t,r,o,u,f,p){if(Ni=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?kv:Pv,t=o(u,f),Wo){p=0;do{if(Wo=!1,Ko=0,25<=p)throw Error(n(301));p+=1,Tt=gt=null,r.updateQueue=null,El.current=xv,t=o(u,f)}while(Wo)}if(El.current=Il,r=gt!==null&&gt.next!==null,Ni=0,Tt=gt=Ye=null,wl=!1,r)throw Error(n(300));return t}function Cc(){var t=Ko!==0;return Ko=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ye.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function mn(){if(gt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var r=Tt===null?Ye.memoizedState:Tt.next;if(r!==null)Tt=r,gt=t;else{if(t===null)throw Error(n(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Tt===null?Ye.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Qo(t,r){return typeof r=="function"?r(t):r}function Ac(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=gt,f=u.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}u.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,u=u.baseState;var I=_=null,x=null,$=p;do{var Y=$.lane;if((Ni&Y)===Y)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),u=$.hasEagerState?$.eagerState:t(u,$.action);else{var J={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(I=x=J,_=u):x=x.next=J,Ye.lanes|=Y,Vi|=Y}$=$.next}while($!==null&&$!==p);x===null?_=u:x.next=I,kn(u,r.memoizedState)||(Gt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Ye.lanes|=p,Vi|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Rc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=t(p,_.action),_=_.next;while(_!==f);kn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function wd(){}function Td(t,r){var o=Ye,u=mn(),f=r(),p=!kn(u.memoizedState,f);if(p&&(u.memoizedState=f,Gt=!0),u=u.queue,kc(Cd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,Go(9,Id.bind(null,o,u,f,r),void 0,null),St===null)throw Error(n(349));(Ni&30)!==0||Sd(o,r,f)}return f}function Sd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Id(t,r,o,u){r.value=o,r.getSnapshot=u,Ad(r)&&Rd(t)}function Cd(t,r,o){return o(function(){Ad(r)&&Rd(t)})}function Ad(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!kn(t,o)}catch{return!0}}function Rd(t){var r=pr(t,1);r!==null&&Vn(r,t,1,-1)}function kd(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},r.queue=t,t=t.dispatch=Rv.bind(null,Ye,t),[r.memoizedState,t]}function Go(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Pd(){return mn().memoizedState}function Tl(t,r,o,u){var f=jn();Ye.flags|=t,f.memoizedState=Go(1|r,o,void 0,u===void 0?null:u)}function Sl(t,r,o,u){var f=mn();u=u===void 0?null:u;var p=void 0;if(gt!==null){var _=gt.memoizedState;if(p=_.destroy,u!==null&&Sc(u,_.deps)){f.memoizedState=Go(r,o,p,u);return}}Ye.flags|=t,f.memoizedState=Go(1|r,o,p,u)}function xd(t,r){return Tl(8390656,8,t,r)}function kc(t,r){return Sl(2048,8,t,r)}function Dd(t,r){return Sl(4,2,t,r)}function Nd(t,r){return Sl(4,4,t,r)}function Vd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ld(t,r,o){return o=o!=null?o.concat([t]):null,Sl(4,4,Vd.bind(null,r,t),o)}function Pc(){}function Od(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Sc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Md(t,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Sc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function bd(t,r,o){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=o):(kn(o,r)||(o=wi(),Ye.lanes|=o,Vi|=o,t.baseState=!0),r)}function Cv(t,r){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var u=Tc.transition;Tc.transition={};try{t(!1),r()}finally{Re=o,Tc.transition=u}}function Fd(){return mn().memoizedState}function Av(t,r,o){var u=qr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},zd(t))Ud(r,o);else if(o=gd(t,r,o,u),o!==null){var f=$t();Vn(o,t,u,f),Bd(o,r,u)}}function Rv(t,r,o){var u=qr(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(zd(t))Ud(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,I=p(_,o);if(f.hasEagerState=!0,f.eagerState=I,kn(I,_)){var x=r.interleaved;x===null?(f.next=f,gc(r)):(f.next=x.next,x.next=f),r.interleaved=f;return}}catch{}finally{}o=gd(t,r,f,u),o!==null&&(f=$t(),Vn(o,t,u,f),Bd(o,r,u))}}function zd(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Ud(t,r){Wo=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Bd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,xr(t,o)}}var Il={readContext:pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},kv={readContext:pn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:xd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,Vd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=Av.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:kd,useDebugValue:Pc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=kd(!1),r=t[0];return t=Cv.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ye,f=jn();if(Qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),St===null)throw Error(n(349));(Ni&30)!==0||Sd(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,xd(Cd.bind(null,u,p,t),[t]),u.flags|=2048,Go(9,Id.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=St.identifierPrefix;if(Qe){var o=dr,u=fr;o=(u&~(1<<32-zt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Ko++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Iv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Pv={readContext:pn,useCallback:Od,useContext:pn,useEffect:kc,useImperativeHandle:Ld,useInsertionEffect:Dd,useLayoutEffect:Nd,useMemo:Md,useReducer:Ac,useRef:Pd,useState:function(){return Ac(Qo)},useDebugValue:Pc,useDeferredValue:function(t){var r=mn();return bd(r,gt.memoizedState,t)},useTransition:function(){var t=Ac(Qo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:wd,useSyncExternalStore:Td,useId:Fd,unstable_isNewReconciler:!1},xv={readContext:pn,useCallback:Od,useContext:pn,useEffect:kc,useImperativeHandle:Ld,useInsertionEffect:Dd,useLayoutEffect:Nd,useMemo:Md,useReducer:Rc,useRef:Pd,useState:function(){return Rc(Qo)},useDebugValue:Pc,useDeferredValue:function(t){var r=mn();return gt===null?r.memoizedState=t:bd(r,gt.memoizedState,t)},useTransition:function(){var t=Rc(Qo)[0],r=mn().memoizedState;return[t,r]},useMutableSource:wd,useSyncExternalStore:Td,useId:Fd,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=oe({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function xc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:oe({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Cl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),f=qr(t),p=mr(u,f);p.payload=r,o!=null&&(p.callback=o),r=Br(t,p,f),r!==null&&(Vn(r,t,f,u),yl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),f=qr(t),p=mr(u,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Br(t,p,f),r!==null&&(Vn(r,t,f,u),yl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=qr(t),f=mr(o,u);f.tag=2,r!=null&&(f.callback=r),r=Br(t,f,u),r!==null&&(Vn(r,t,u,o),yl(r,t,u))}};function $d(t,r,o,u,f,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Oo(o,u)||!Oo(f,p):!0}function jd(t,r,o){var u=!1,f=Fr,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(f=Qt(r)?Ri:Nt.current,u=r.contextTypes,p=(u=u!=null)?As(t,f):Fr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Cl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function Hd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Cl.enqueueReplaceState(r,r.state,null)}function Dc(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},yc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=pn(p):(p=Qt(r)?Ri:Nt.current,f.context=As(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Cl.enqueueReplaceState(f,f.state,null),vl(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Nc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Vc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Dv=typeof WeakMap=="function"?WeakMap:Map;function qd(t,r,o){o=mr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Nl||(Nl=!0,Qc=u),Vc(t,r)},o}function Wd(t,r,o){o=mr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Vc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Vc(t,r),typeof u!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Kd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Dv;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=qv.bind(null,t,r,o),r.then(t,t))}function Qd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Gd(t,r,o,u,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mr(-1,1),r.tag=2,Br(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var Nv=Z.ReactCurrentOwner,Gt=!1;function Bt(t,r,o,u){r.child=t===null?md(r,null,o,u):xs(r,t.child,o,u)}function Xd(t,r,o,u,f){o=o.render;var p=r.ref;return Ns(r,f),u=Ic(t,r,o,u,p,f),o=Cc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Qe&&o&&ac(r),r.flags|=1,Bt(t,r,u,f),r.child)}function Yd(t,r,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!th(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Jd(t,r,p,u,f)):(t=Fl(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&f)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Oo,o(_,u)&&t.ref===r.ref)return gr(t,r,f)}return r.flags|=1,t=Kr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Jd(t,r,o,u,f){if(t!==null){var p=t.memoizedProps;if(Oo(p,u)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=u=p,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Gt=!0);else return r.lanes=t.lanes,gr(t,r,f)}return Lc(t,r,o,u,f)}function Zd(t,r,o){var u=r.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ms,an),an|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Ms,an),an|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Ms,an),an|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Ms,an),an|=u;return Bt(t,r,f,o),r.child}function ep(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Lc(t,r,o,u,f){var p=Qt(o)?Ri:Nt.current;return p=As(r,p),Ns(r,f),o=Ic(t,r,o,u,p,f),u=Cc(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Qe&&u&&ac(r),r.flags|=1,Bt(t,r,o,f),r.child)}function tp(t,r,o,u,f){if(Qt(o)){var p=!0;ul(r)}else p=!1;if(Ns(r,f),r.stateNode===null)Rl(t,r),jd(r,o,u),Dc(r,o,u,f),u=!0;else if(t===null){var _=r.stateNode,I=r.memoizedProps;_.props=I;var x=_.context,$=o.contextType;typeof $=="object"&&$!==null?$=pn($):($=Qt(o)?Ri:Nt.current,$=As(r,$));var Y=o.getDerivedStateFromProps,J=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==u||x!==$)&&Hd(r,_,u,$),Ur=!1;var X=r.memoizedState;_.state=X,vl(r,u,_,f),x=r.memoizedState,I!==u||X!==x||Kt.current||Ur?(typeof Y=="function"&&(xc(r,o,Y,u),x=r.memoizedState),(I=Ur||$d(r,o,I,u,X,x,$))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),_.props=u,_.state=x,_.context=$,u=I):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,yd(t,r),I=r.memoizedProps,$=r.type===r.elementType?I:xn(r.type,I),_.props=$,J=r.pendingProps,X=_.context,x=o.contextType,typeof x=="object"&&x!==null?x=pn(x):(x=Qt(o)?Ri:Nt.current,x=As(r,x));var se=o.getDerivedStateFromProps;(Y=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I!==J||X!==x)&&Hd(r,_,u,x),Ur=!1,X=r.memoizedState,_.state=X,vl(r,u,_,f);var ue=r.memoizedState;I!==J||X!==ue||Kt.current||Ur?(typeof se=="function"&&(xc(r,o,se,u),ue=r.memoizedState),($=Ur||$d(r,o,$,u,X,ue,x)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ue,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ue,x)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),_.props=u,_.state=ue,_.context=x,u=$):(typeof _.componentDidUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&X===t.memoizedState||(r.flags|=1024),u=!1)}return Oc(t,r,o,u,p,f)}function Oc(t,r,o,u,f,p){ep(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return f&&od(r,o,!1),gr(t,r,p);u=r.stateNode,Nv.current=r;var I=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=xs(r,t.child,null,p),r.child=xs(r,null,I,p)):Bt(t,r,I,p),r.memoizedState=u.state,f&&od(r,o,!0),r.child}function np(t){var r=t.stateNode;r.pendingContext?id(t,r.pendingContext,r.pendingContext!==r.context):r.context&&id(t,r.context,!1),vc(t,r.containerInfo)}function rp(t,r,o,u,f){return Ps(),hc(f),r.flags|=256,Bt(t,r,o,u),r.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function bc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ip(t,r,o){var u=r.pendingProps,f=Xe.current,p=!1,_=(r.flags&128)!==0,I;if((I=_)||(I=t!==null&&t.memoizedState===null?!1:(f&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),He(Xe,f&1),t===null)return cc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=zl(_,u,0,null),t=bi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=bc(o),r.memoizedState=Mc,t):Fc(r,_));if(f=t.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return Vv(t,r,_,u,I,f,o);if(p){p=u.fallback,_=r.mode,f=t.child,I=f.sibling;var x={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=Kr(f,x),u.subtreeFlags=f.subtreeFlags&14680064),I!==null?p=Kr(I,p):(p=bi(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?bc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Mc,u}return p=t.child,t=p.sibling,u=Kr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Fc(t,r){return r=zl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,u){return u!==null&&hc(u),xs(r,t.child,null,o),t=Fc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Vv(t,r,o,u,f,p,_){if(o)return r.flags&256?(r.flags&=-257,u=Nc(Error(n(422))),Al(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,f=r.mode,u=zl({mode:"visible",children:u.children},f,0,null),p=bi(p,f,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&xs(r,t.child,null,_),r.child.memoizedState=bc(_),r.memoizedState=Mc,p);if((r.mode&1)===0)return Al(t,r,_,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var I=u.dgst;return u=I,p=Error(n(419)),u=Nc(p,u,void 0),Al(t,r,_,u)}if(I=(_&t.childLanes)!==0,Gt||I){if(u=St,u!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|_))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,pr(t,f),Vn(u,t,f,-1))}return eh(),u=Nc(Error(n(421))),Al(t,r,_,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Wv.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,on=Mr(f.nextSibling),sn=r,Qe=!0,Pn=null,t!==null&&(fn[dn++]=fr,fn[dn++]=dr,fn[dn++]=ki,fr=t.id,dr=t.overflow,ki=r),r=Fc(r,u.children),r.flags|=4096,r)}function sp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),mc(t.return,r,o)}function zc(t,r,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function op(t,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Xe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,o,r);else if(t.tag===19)sp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Xe,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&_l(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&_l(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}zc(r,!0,o,null,p);break;case"together":zc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Rl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Vi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Kr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Kr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Lv(t,r,o){switch(r.tag){case 3:np(r),Ps();break;case 5:Ed(r);break;case 1:Qt(r.type)&&ul(r);break;case 4:vc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;He(ml,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?ip(t,r,o):(He(Xe,Xe.current&1),t=gr(t,r,o),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return op(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,Zd(t,r,o)}return gr(t,r,o)}var ap,Uc,lp,up;ap=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Uc=function(){},lp=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Di($n.current);var p=null;switch(o){case"input":f=ci(t,f),u=ci(t,u),p=[];break;case"select":f=oe({},f,{value:void 0}),u=oe({},u,{value:void 0}),p=[];break;case"textarea":f=uo(t,f),u=uo(t,u),p=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ol)}go(o,u);var _;o=null;for($ in f)if(!u.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var I=f[$];for(_ in I)I.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in u){var x=u[$];if(I=f!=null?f[$]:void 0,u.hasOwnProperty($)&&x!==I&&(x!=null||I!=null))if($==="style")if(I){for(_ in I)!I.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in x)x.hasOwnProperty(_)&&I[_]!==x[_]&&(o||(o={}),o[_]=x[_])}else o||(p||(p=[]),p.push($,o)),o=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,I=I?I.__html:void 0,x!=null&&I!==x&&(p=p||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(a.hasOwnProperty($)?(x!=null&&$==="onScroll"&&qe("scroll",t),p||I===x||(p=[])):(p=p||[]).push($,x))}o&&(p=p||[]).push("style",o);var $=p;(r.updateQueue=$)&&(r.flags|=4)}},up=function(t,r,o,u){o!==u&&(r.flags|=4)};function Xo(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ov(t,r,o){var u=r.pendingProps;switch(lc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Qt(r.type)&&ll(),Lt(r),null;case 3:return u=r.stateNode,Vs(),We(Kt),We(Nt),wc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(dl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pn!==null&&(Yc(Pn),Pn=null))),Uc(t,r),Lt(r),null;case 5:_c(r);var f=Di(qo.current);if(o=r.type,t!==null&&r.stateNode!=null)lp(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=Di($n.current),dl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Bn]=r,u[Uo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(f=0;f<bo.length;f++)qe(bo[f],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":Qi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":Xi(u,p),qe("invalid",u)}go(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var I=p[_];_==="children"?typeof I=="string"?u.textContent!==I&&(p.suppressHydrationWarning!==!0&&sl(u.textContent,I,t),f=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&sl(u.textContent,I,t),f=["children",""+I]):a.hasOwnProperty(_)&&I!=null&&_==="onScroll"&&qe("scroll",u)}switch(o){case"input":er(u),Da(u,p,!0);break;case"textarea":er(u),co(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=ol)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Bn]=r,t[Uo]=u,ap(t,r,!1,!1),r.stateNode=t;e:{switch(_=yo(o,u),o){case"dialog":qe("cancel",t),qe("close",t),f=u;break;case"iframe":case"object":case"embed":qe("load",t),f=u;break;case"video":case"audio":for(f=0;f<bo.length;f++)qe(bo[f],t);f=u;break;case"source":qe("error",t),f=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),f=u;break;case"details":qe("toggle",t),f=u;break;case"input":Qi(t,u),f=ci(t,u),qe("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=oe({},u,{value:void 0}),qe("invalid",t);break;case"textarea":Xi(t,u),f=uo(t,u),qe("invalid",t);break;default:f=u}go(o,f),I=f;for(p in I)if(I.hasOwnProperty(p)){var x=I[p];p==="style"?po(t,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ho(t,x)):p==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Cr(t,x):typeof x=="number"&&Cr(t,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?x!=null&&p==="onScroll"&&qe("scroll",t):x!=null&&K(t,p,x,_))}switch(o){case"input":er(t),Da(t,u,!1);break;case"textarea":er(t),co(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?nr(t,!!u.multiple,p,!1):u.defaultValue!=null&&nr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ol)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)up(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Di(qo.current),Di($n.current),dl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Bn]=r,(p=u.nodeValue!==o)&&(t=sn,t!==null))switch(t.tag){case 3:sl(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Bn]=r,r.stateNode=u}return Lt(r),null;case 13:if(We(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&on!==null&&(r.mode&1)!==0&&(r.flags&128)===0)fd(),Ps(),r.flags|=98560,p=!1;else if(p=dl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Bn]=r}else Ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else Pn!==null&&(Yc(Pn),Pn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Xe.current&1)!==0?yt===0&&(yt=3):eh())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Vs(),Uc(t,r),t===null&&Fo(r.stateNode.containerInfo),Lt(r),null;case 10:return pc(r.type._context),Lt(r),null;case 17:return Qt(r.type)&&ll(),Lt(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return Lt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Xo(p,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=_l(t),_!==null){for(r.flags|=128,Xo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>bs&&(r.flags|=128,u=!0,Xo(p,!1),r.lanes=4194304)}else{if(!u)if(t=_l(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Xo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Qe)return Lt(r),null}else 2*je()-p.renderingStartTime>bs&&o!==1073741824&&(r.flags|=128,u=!0,Xo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Xe.current,He(Xe,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return Zc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(an&1073741824)!==0&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Mv(t,r){switch(lc(r),r.tag){case 1:return Qt(r.type)&&ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Vs(),We(Kt),We(Nt),wc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return _c(r),null;case 13:if(We(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Xe),null;case 4:return Vs(),null;case 10:return pc(r.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var kl=!1,Ot=!1,bv=typeof WeakSet=="function"?WeakSet:Set,le=null;function Os(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){tt(t,r,u)}else o.current=null}function Bc(t,r,o){try{o()}catch(u){tt(t,r,u)}}var cp=!1;function Fv(t,r){if(Zu=Vr,t=$f(),qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,I=-1,x=-1,$=0,Y=0,J=t,X=null;t:for(;;){for(var se;J!==o||f!==0&&J.nodeType!==3||(I=_+f),J!==p||u!==0&&J.nodeType!==3||(x=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(se=J.firstChild)!==null;)X=J,J=se;for(;;){if(J===t)break t;if(X===o&&++$===f&&(I=_),X===p&&++Y===u&&(x=_),(se=J.nextSibling)!==null)break;J=X,X=J.parentNode}J=se}o=I===-1||x===-1?null:{start:I,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(ec={focusedElem:t,selectionRange:o},Vr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,b=r.stateNode,N=b.getSnapshotBeforeUpdate(r.elementType===r.type?ce:xn(r.type,ce),rt);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){tt(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=cp,cp=!1,ue}function Yo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Bc(r,o,p)}f=f.next}while(f!==u)}}function Pl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function $c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function hp(t){var r=t.alternate;r!==null&&(t.alternate=null,hp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Bn],delete r[Uo],delete r[ic],delete r[Ev],delete r[wv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fp(t){return t.tag===5||t.tag===3||t.tag===4}function dp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ol));else if(u!==4&&(t=t.child,t!==null))for(jc(t,r,o),t=t.sibling;t!==null;)jc(t,r,o),t=t.sibling}function Hc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Hc(t,r,o),t=t.sibling;t!==null;)Hc(t,r,o),t=t.sibling}var kt=null,Dn=!1;function $r(t,r,o){for(o=o.child;o!==null;)pp(t,r,o),o=o.sibling}function pp(t,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(_i,o)}catch{}switch(o.tag){case 5:Ot||Os(o,r);case 6:var u=kt,f=Dn;kt=null,$r(t,r,o),kt=u,Dn=f,kt!==null&&(Dn?(t=kt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):kt.removeChild(o.stateNode));break;case 18:kt!==null&&(Dn?(t=kt,o=o.stateNode,t.nodeType===8?rc(t.parentNode,o):t.nodeType===1&&rc(t,o),An(t)):rc(kt,o.stateNode));break;case 4:u=kt,f=Dn,kt=o.stateNode.containerInfo,Dn=!0,$r(t,r,o),kt=u,Dn=f;break;case 0:case 11:case 14:case 15:if(!Ot&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&Bc(o,r,_),f=f.next}while(f!==u)}$r(t,r,o);break;case 1:if(!Ot&&(Os(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){tt(o,r,I)}$r(t,r,o);break;case 21:$r(t,r,o);break;case 22:o.mode&1?(Ot=(u=Ot)||o.memoizedState!==null,$r(t,r,o),Ot=u):$r(t,r,o);break;default:$r(t,r,o)}}function mp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new bv),r.forEach(function(u){var f=Kv.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Nn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var p=t,_=r,I=_;e:for(;I!==null;){switch(I.tag){case 5:kt=I.stateNode,Dn=!1;break e;case 3:kt=I.stateNode.containerInfo,Dn=!0;break e;case 4:kt=I.stateNode.containerInfo,Dn=!0;break e}I=I.return}if(kt===null)throw Error(n(160));pp(p,_,f),kt=null,Dn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch($){tt(f,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gp(r,t),r=r.sibling}function gp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(r,t),Hn(t),u&4){try{Yo(3,t,t.return),Pl(3,t)}catch(ce){tt(t,t.return,ce)}try{Yo(5,t,t.return)}catch(ce){tt(t,t.return,ce)}}break;case 1:Nn(r,t),Hn(t),u&512&&o!==null&&Os(o,o.return);break;case 5:if(Nn(r,t),Hn(t),u&512&&o!==null&&Os(o,o.return),t.flags&32){var f=t.stateNode;try{Cr(f,"")}catch(ce){tt(t,t.return,ce)}}if(u&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,I=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&ao(f,p),yo(I,_);var $=yo(I,p);for(_=0;_<x.length;_+=2){var Y=x[_],J=x[_+1];Y==="style"?po(f,J):Y==="dangerouslySetInnerHTML"?ho(f,J):Y==="children"?Cr(f,J):K(f,Y,J,$)}switch(I){case"input":lo(f,p);break;case"textarea":Yi(f,p);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?nr(f,!!p.multiple,se,!1):X!==!!p.multiple&&(p.defaultValue!=null?nr(f,!!p.multiple,p.defaultValue,!0):nr(f,!!p.multiple,p.multiple?[]:"",!1))}f[Uo]=p}catch(ce){tt(t,t.return,ce)}}break;case 6:if(Nn(r,t),Hn(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(ce){tt(t,t.return,ce)}}break;case 3:if(Nn(r,t),Hn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(ce){tt(t,t.return,ce)}break;case 4:Nn(r,t),Hn(t);break;case 13:Nn(r,t),Hn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Kc=je())),u&4&&mp(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Ot=($=Ot)||Y,Nn(r,t),Ot=$):Nn(r,t),Hn(t),u&8192){if($=t.memoizedState!==null,(t.stateNode.isHidden=$)&&!Y&&(t.mode&1)!==0)for(le=t,Y=t.child;Y!==null;){for(J=le=Y;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:Yo(4,X,X.return);break;case 1:Os(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){u=X,o=X.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){tt(u,o,ce)}}break;case 5:Os(X,X.return);break;case 22:if(X.memoizedState!==null){_p(J);continue}}se!==null?(se.return=X,le=se):_p(J)}Y=Y.sibling}e:for(Y=null,J=t;;){if(J.tag===5){if(Y===null){Y=J;try{f=J.stateNode,$?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=J.stateNode,x=J.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,I.style.display=fo("display",_))}catch(ce){tt(t,t.return,ce)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=$?"":J.memoizedProps}catch(ce){tt(t,t.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(r,t),Hn(t),u&4&&mp(t);break;case 21:break;default:Nn(r,t),Hn(t)}}function Hn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(fp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Cr(f,""),u.flags&=-33);var p=dp(t);Hc(t,p,f);break;case 3:case 4:var _=u.stateNode.containerInfo,I=dp(t);jc(t,I,_);break;default:throw Error(n(161))}}catch(x){tt(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function zv(t,r,o){le=t,yp(t)}function yp(t,r,o){for(var u=(t.mode&1)!==0;le!==null;){var f=le,p=f.child;if(f.tag===22&&u){var _=f.memoizedState!==null||kl;if(!_){var I=f.alternate,x=I!==null&&I.memoizedState!==null||Ot;I=kl;var $=Ot;if(kl=_,(Ot=x)&&!$)for(le=f;le!==null;)_=le,x=_.child,_.tag===22&&_.memoizedState!==null?Ep(f):x!==null?(x.return=_,le=x):Ep(f);for(;p!==null;)le=p,yp(p),p=p.sibling;le=f,kl=I,Ot=$}vp(t)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,le=p):vp(t)}}function vp(t){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ot||Pl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Ot)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:xn(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&_d(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}_d(r,_,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&An(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ot||r.flags&512&&$c(r)}catch(X){tt(r,r.return,X)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function _p(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function Ep(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Pl(4,r)}catch(x){tt(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(x){tt(r,f,x)}}var p=r.return;try{$c(r)}catch(x){tt(r,p,x)}break;case 5:var _=r.return;try{$c(r)}catch(x){tt(r,_,x)}}}catch(x){tt(r,r.return,x)}if(r===t){le=null;break}var I=r.sibling;if(I!==null){I.return=r.return,le=I;break}le=r.return}}var Uv=Math.ceil,xl=Z.ReactCurrentDispatcher,qc=Z.ReactCurrentOwner,gn=Z.ReactCurrentBatchConfig,Ve=0,St=null,at=null,Pt=0,an=0,Ms=br(0),yt=0,Jo=null,Vi=0,Dl=0,Wc=0,Zo=null,Xt=null,Kc=0,bs=1/0,yr=null,Nl=!1,Qc=null,jr=null,Vl=!1,Hr=null,Ll=0,ea=0,Gc=null,Ol=-1,Ml=0;function $t(){return(Ve&6)!==0?je():Ol!==-1?Ol:Ol=je()}function qr(t){return(t.mode&1)===0?1:(Ve&2)!==0&&Pt!==0?Pt&-Pt:Sv.transition!==null?(Ml===0&&(Ml=wi()),Ml):(t=Re,t!==0||(t=window.event,t=t===void 0?16:ko(t.type)),t)}function Vn(t,r,o,u){if(50<ea)throw ea=0,Gc=null,Error(n(185));Pr(t,o,u),((Ve&2)===0||t!==St)&&(t===St&&((Ve&2)===0&&(Dl|=o),yt===4&&Wr(t,Pt)),Yt(t,u),o===1&&Ve===0&&(r.mode&1)===0&&(bs=je()+500,cl&&zr()))}function Yt(t,r){var o=t.callbackNode;sr(t,r);var u=Ei(t,t===St?Pt:0);if(u===0)o!==null&&So(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&So(o),r===1)t.tag===0?Tv(Tp.bind(null,t)):ad(Tp.bind(null,t)),vv(function(){(Ve&6)===0&&zr()}),o=null;else{switch(Dr(u)){case 1:o=vi;break;case 4:o=Ar;break;case 16:o=un;break;case 536870912:o=Ma;break;default:o=un}o=xp(o,wp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function wp(t,r){if(Ol=-1,Ml=0,(Ve&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Fs()&&t.callbackNode!==o)return null;var u=Ei(t,t===St?Pt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=bl(t,u);else{r=u;var f=Ve;Ve|=2;var p=Ip();(St!==t||Pt!==r)&&(yr=null,bs=je()+500,Oi(t,r));do try{jv();break}catch(I){Sp(t,I)}while(!0);dc(),xl.current=p,Ve=f,at!==null?r=0:(St=null,Pt=0,r=yt)}if(r!==0){if(r===2&&(f=tn(t),f!==0&&(u=f,r=Xc(t,f))),r===1)throw o=Jo,Oi(t,0),Wr(t,u),Yt(t,je()),o;if(r===6)Wr(t,u);else{if(f=t.current.alternate,(u&30)===0&&!Bv(f)&&(r=bl(t,u),r===2&&(p=tn(t),p!==0&&(u=p,r=Xc(t,p))),r===1))throw o=Jo,Oi(t,0),Wr(t,u),Yt(t,je()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Mi(t,Xt,yr);break;case 3:if(Wr(t,u),(u&130023424)===u&&(r=Kc+500-je(),10<r)){if(Ei(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=nc(Mi.bind(null,t,Xt,yr),r);break}Mi(t,Xt,yr);break;case 4:if(Wr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var _=31-zt(u);p=1<<_,_=r[_],_>f&&(f=_),u&=~p}if(u=f,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Uv(u/1960))-u,10<u){t.timeoutHandle=nc(Mi.bind(null,t,Xt,yr),u);break}Mi(t,Xt,yr);break;case 5:Mi(t,Xt,yr);break;default:throw Error(n(329))}}}return Yt(t,je()),t.callbackNode===o?wp.bind(null,t):null}function Xc(t,r){var o=Zo;return t.current.memoizedState.isDehydrated&&(Oi(t,r).flags|=256),t=bl(t,r),t!==2&&(r=Xt,Xt=o,r!==null&&Yc(r)),t}function Yc(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function Bv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!kn(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~Wc,r&=~Dl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-zt(r),u=1<<o;t[o]=-1,r&=~u}}function Tp(t){if((Ve&6)!==0)throw Error(n(327));Fs();var r=Ei(t,0);if((r&1)===0)return Yt(t,je()),null;var o=bl(t,r);if(t.tag!==0&&o===2){var u=tn(t);u!==0&&(r=u,o=Xc(t,u))}if(o===1)throw o=Jo,Oi(t,0),Wr(t,r),Yt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Mi(t,Xt,yr),Yt(t,je()),null}function Jc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(bs=je()+500,cl&&zr())}}function Li(t){Hr!==null&&Hr.tag===0&&(Ve&6)===0&&Fs();var r=Ve;Ve|=1;var o=gn.transition,u=Re;try{if(gn.transition=null,Re=1,t)return t()}finally{Re=u,gn.transition=o,Ve=r,(Ve&6)===0&&zr()}}function Zc(){an=Ms.current,We(Ms)}function Oi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,yv(o)),at!==null)for(o=at.return;o!==null;){var u=o;switch(lc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ll();break;case 3:Vs(),We(Kt),We(Nt),wc();break;case 5:_c(u);break;case 4:Vs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:pc(u.type._context);break;case 22:case 23:Zc()}o=o.return}if(St=t,at=t=Kr(t.current,null),Pt=an=r,yt=0,Jo=null,Wc=Dl=Vi=0,Xt=Zo=null,xi!==null){for(r=0;r<xi.length;r++)if(o=xi[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,u.next=_}o.pending=u}xi=null}return t}function Sp(t,r){do{var o=at;try{if(dc(),El.current=Il,wl){for(var u=Ye.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}wl=!1}if(Ni=0,Tt=gt=Ye=null,Wo=!1,Ko=0,qc.current=null,o===null||o.return===null){yt=1,Jo=r,at=null;break}e:{var p=t,_=o.return,I=o,x=r;if(r=Pt,I.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,Y=I,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Qd(_);if(se!==null){se.flags&=-257,Gd(se,_,I,p,r),se.mode&1&&Kd(p,$,r),r=se,x=$;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(x),r.updateQueue=ce}else ue.add(x);break e}else{if((r&1)===0){Kd(p,$,r),eh();break e}x=Error(n(426))}}else if(Qe&&I.mode&1){var rt=Qd(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Gd(rt,_,I,p,r),hc(Ls(x,I));break e}}p=x=Ls(x,I),yt!==4&&(yt=2),Zo===null?Zo=[p]:Zo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=qd(p,x,r);vd(p,b);break e;case 1:I=x;var N=p.type,U=p.stateNode;if((p.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(jr===null||!jr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var te=Wd(p,I,r);vd(p,te);break e}}p=p.return}while(p!==null)}Ap(o)}catch(he){r=he,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function Ip(){var t=xl.current;return xl.current=Il,t===null?Il:t}function eh(){(yt===0||yt===3||yt===2)&&(yt=4),St===null||(Vi&268435455)===0&&(Dl&268435455)===0||Wr(St,Pt)}function bl(t,r){var o=Ve;Ve|=2;var u=Ip();(St!==t||Pt!==r)&&(yr=null,Oi(t,r));do try{$v();break}catch(f){Sp(t,f)}while(!0);if(dc(),Ve=o,xl.current=u,at!==null)throw Error(n(261));return St=null,Pt=0,yt}function $v(){for(;at!==null;)Cp(at)}function jv(){for(;at!==null&&!La();)Cp(at)}function Cp(t){var r=Pp(t.alternate,t,an);t.memoizedProps=t.pendingProps,r===null?Ap(t):at=r,qc.current=null}function Ap(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Ov(o,r,an),o!==null){at=o;return}}else{if(o=Mv(o,r),o!==null){o.flags&=32767,at=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=t}while(r!==null);yt===0&&(yt=5)}function Mi(t,r,o){var u=Re,f=gn.transition;try{gn.transition=null,Re=1,Hv(t,r,o,u)}finally{gn.transition=f,Re=u}return null}function Hv(t,r,o,u){do Fs();while(Hr!==null);if((Ve&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===St&&(at=St=null,Pt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Vl||(Vl=!0,xp(un,function(){return Fs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=gn.transition,gn.transition=null;var _=Re;Re=1;var I=Ve;Ve|=4,qc.current=null,Fv(t,o),gp(o,t),cv(ec),Vr=!!Zu,ec=Zu=null,t.current=o,zv(o),bu(),Ve=I,Re=_,gn.transition=p}else t.current=o;if(Vl&&(Vl=!1,Hr=t,Ll=f),p=t.pendingLanes,p===0&&(jr=null),ba(o.stateNode),Yt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Nl)throw Nl=!1,t=Qc,Qc=null,t;return(Ll&1)!==0&&t.tag!==0&&Fs(),p=t.pendingLanes,(p&1)!==0?t===Gc?ea++:(ea=0,Gc=t):ea=0,zr(),null}function Fs(){if(Hr!==null){var t=Dr(Ll),r=gn.transition,o=Re;try{if(gn.transition=null,Re=16>t?16:t,Hr===null)var u=!1;else{if(t=Hr,Hr=null,Ll=0,(Ve&6)!==0)throw Error(n(331));var f=Ve;for(Ve|=4,le=t.current;le!==null;){var p=le,_=p.child;if((le.flags&16)!==0){var I=p.deletions;if(I!==null){for(var x=0;x<I.length;x++){var $=I[x];for(le=$;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Yo(8,Y,p)}var J=Y.child;if(J!==null)J.return=Y,le=J;else for(;le!==null;){Y=le;var X=Y.sibling,se=Y.return;if(hp(Y),Y===$){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,le=_;else e:for(;le!==null;){if(p=le,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Yo(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,le=b;break e}le=p.return}}var N=t.current;for(le=N;le!==null;){_=le;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,le=U;else e:for(_=N;le!==null;){if(I=le,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Pl(9,I)}}catch(he){tt(I,I.return,he)}if(I===_){le=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,le=te;break e}le=I.return}}if(Ve=f,zr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(_i,t)}catch{}u=!0}return u}finally{Re=o,gn.transition=r}}return!1}function Rp(t,r,o){r=Ls(o,r),r=qd(t,r,1),t=Br(t,r,1),r=$t(),t!==null&&(Pr(t,1,r),Yt(t,r))}function tt(t,r,o){if(t.tag===3)Rp(t,t,o);else for(;r!==null;){if(r.tag===3){Rp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jr===null||!jr.has(u))){t=Ls(o,t),t=Wd(r,t,1),r=Br(r,t,1),t=$t(),r!==null&&(Pr(r,1,t),Yt(r,t));break}}r=r.return}}function qv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,St===t&&(Pt&o)===o&&(yt===4||yt===3&&(Pt&130023424)===Pt&&500>je()-Kc?Oi(t,0):Wc|=o),Yt(t,r)}function kp(t,r){r===0&&((t.mode&1)===0?r=1:(r=as,as<<=1,(as&130023424)===0&&(as=4194304)));var o=$t();t=pr(t,r),t!==null&&(Pr(t,r,o),Yt(t,o))}function Wv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),kp(t,o)}function Kv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),kp(t,o)}var Pp;Pp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Kt.current)Gt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Gt=!1,Lv(t,r,o);Gt=(t.flags&131072)!==0}else Gt=!1,Qe&&(r.flags&1048576)!==0&&ld(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Rl(t,r),t=r.pendingProps;var f=As(r,Nt.current);Ns(r,o),f=Ic(null,r,u,t,f,o);var p=Cc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(u)?(p=!0,ul(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,yc(r),f.updater=Cl,r.stateNode=f,f._reactInternals=r,Dc(r,u,t,o),r=Oc(null,r,u,!0,p,o)):(r.tag=0,Qe&&p&&ac(r),Bt(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Rl(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=Gv(u),t=xn(u,t),f){case 0:r=Lc(null,r,u,t,o);break e;case 1:r=tp(null,r,u,t,o);break e;case 11:r=Xd(null,r,u,t,o);break e;case 14:r=Yd(null,r,u,xn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),Lc(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),tp(t,r,u,f,o);case 3:e:{if(np(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,f=p.element,yd(t,r),vl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Ls(Error(n(423)),r),r=rp(t,r,u,o,f);break e}else if(u!==f){f=Ls(Error(n(424)),r),r=rp(t,r,u,o,f);break e}else for(on=Mr(r.stateNode.containerInfo.firstChild),sn=r,Qe=!0,Pn=null,o=md(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ps(),u===f){r=gr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return Ed(r),t===null&&cc(r),u=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,_=f.children,tc(u,f)?_=null:p!==null&&tc(u,p)&&(r.flags|=32),ep(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&cc(r),null;case 13:return ip(t,r,o);case 4:return vc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=xs(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),Xd(t,r,u,f,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,p=r.memoizedProps,_=f.value,He(ml,u._currentValue),u._currentValue=_,p!==null)if(kn(p.value,_)){if(p.children===f.children&&!Kt.current){r=gr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){_=p.child;for(var x=I.firstContext;x!==null;){if(x.context===u){if(p.tag===1){x=mr(-1,o&-o),x.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),$.pending=x}}p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),mc(p.return,o,r),I.lanes|=o;break}x=x.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),mc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ns(r,o),f=pn(f),u=u(f),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,f=xn(u,r.pendingProps),f=xn(u.type,f),Yd(t,r,u,f,o);case 15:return Jd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),Rl(t,r),r.tag=1,Qt(u)?(t=!0,ul(r)):t=!1,Ns(r,o),jd(r,u,f),Dc(r,u,f,o),Oc(null,r,u,!0,t,o);case 19:return op(t,r,o);case 22:return Zd(t,r,o)}throw Error(n(156,r.tag))};function xp(t,r){return ss(t,r)}function Qv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,u){return new Qv(t,r,o,u)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gv(t){if(typeof t=="function")return th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===V)return 11;if(t===ht)return 14}return 2}function Kr(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Fl(t,r,o,u,f,p){var _=2;if(u=t,typeof t=="function")th(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return bi(o.children,f,p,r);case T:_=8,f|=8;break;case C:return t=yn(12,o,r,f|2),t.elementType=C,t.lanes=p,t;case R:return t=yn(13,o,r,f),t.elementType=R,t.lanes=p,t;case Ge:return t=yn(19,o,r,f),t.elementType=Ge,t.lanes=p,t;case Oe:return zl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case D:_=9;break e;case V:_=11;break e;case ht:_=14;break e;case ft:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,f),r.elementType=t,r.type=u,r.lanes=p,r}function bi(t,r,o,u){return t=yn(7,t,u,r),t.lanes=o,t}function zl(t,r,o,u){return t=yn(22,t,u,r),t.elementType=Oe,t.lanes=o,t.stateNode={isHidden:!1},t}function nh(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function rh(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Xv(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ih(t,r,o,u,f,p,_,I,x){return t=new Xv(t,r,o,I,x),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(p),t}function Yv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Dp(t){if(!t)return Fr;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Qt(o))return sd(t,o,r)}return r}function Np(t,r,o,u,f,p,_,I,x){return t=ih(o,u,!0,t,f,p,_,I,x),t.context=Dp(null),o=t.current,u=$t(),f=qr(o),p=mr(u,f),p.callback=r??null,Br(o,p,f),t.current.lanes=f,Pr(t,f,u),Yt(t,u),t}function Ul(t,r,o,u){var f=r.current,p=$t(),_=qr(f);return o=Dp(o),r.context===null?r.context=o:r.pendingContext=o,r=mr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Br(f,r,_),t!==null&&(Vn(t,f,_,p),yl(t,f,_)),_}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function sh(t,r){Vp(t,r),(t=t.alternate)&&Vp(t,r)}function Jv(){return null}var Lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function oh(t){this._internalRoot=t}$l.prototype.render=oh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ul(t,r,null,null)},$l.prototype.unmount=oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Li(function(){Ul(null,t,null,null)}),r[cr]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var r=$a();t={blockedOn:null,target:t,priority:r};for(var o=0;o<bn.length&&r!==0&&r<bn[o].priority;o++);bn.splice(o,0,t),o===0&&qa(t)}};function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Op(){}function Zv(t,r,o,u,f){if(f){if(typeof u=="function"){var p=u;u=function(){var $=Bl(_);p.call($)}}var _=Np(r,u,t,0,null,!1,!1,"",Op);return t._reactRootContainer=_,t[cr]=_.current,Fo(t.nodeType===8?t.parentNode:t),Li(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var I=u;u=function(){var $=Bl(x);I.call($)}}var x=ih(t,0,!1,null,null,!1,!1,"",Op);return t._reactRootContainer=x,t[cr]=x.current,Fo(t.nodeType===8?t.parentNode:t),Li(function(){Ul(r,x,o,u)}),x}function Hl(t,r,o,u,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var I=f;f=function(){var x=Bl(_);I.call(x)}}Ul(r,_,t,f)}else _=Zv(o,r,t,f,u);return Bl(_)}Ua=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Rr(r.pendingLanes);o!==0&&(xr(r,o|1),Yt(r,je()),(Ve&6)===0&&(bs=je()+500,zr()))}break;case 13:Li(function(){var u=pr(t,1);if(u!==null){var f=$t();Vn(u,t,1,f)}}),sh(t,1)}},ls=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var o=$t();Vn(r,t,134217728,o)}sh(t,134217728)}},Ba=function(t){if(t.tag===13){var r=qr(t),o=pr(t,r);if(o!==null){var u=$t();Vn(o,t,r,u)}sh(t,r)}},$a=function(){return Re},ja=function(t,r){var o=Re;try{return Re=t,r()}finally{Re=o}},Zi=function(t,r,o){switch(r){case"input":if(lo(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=al(u);if(!f)throw Error(n(90));Ki(u),lo(u,f)}}}break;case"textarea":Yi(t,o);break;case"select":r=o.value,r!=null&&nr(t,!!o.multiple,r,!1)}},pi=Jc,_o=Li;var e_={usingClientEntryPoint:!1,Events:[Bo,Is,al,On,vo,Jc]},ta={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t_={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=To(t),t===null?null:t.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{_i=ql.inject(t_),en=ql}catch{}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e_,Jt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(r))throw Error(n(200));return Yv(t,r,null,o)},Jt.createRoot=function(t,r){if(!ah(t))throw Error(n(299));var o=!1,u="",f=Lp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=ih(t,1,!1,null,null,o,!1,u,f),t[cr]=r.current,Fo(t.nodeType===8?t.parentNode:t),new oh(r)},Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=To(r),t=t===null?null:t.stateNode,t},Jt.flushSync=function(t){return Li(t)},Jt.hydrate=function(t,r,o){if(!jl(r))throw Error(n(200));return Hl(null,t,r,!0,o)},Jt.hydrateRoot=function(t,r,o){if(!ah(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,p="",_=Lp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Np(r,null,t,1,o??null,f,!1,p,_),t[cr]=r.current,Fo(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new $l(r)},Jt.render=function(t,r,o){if(!jl(r))throw Error(n(200));return Hl(null,t,r,!1,o)},Jt.unmountComponentAtNode=function(t){if(!jl(t))throw Error(n(40));return t._reactRootContainer?(Li(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Jt.unstable_batchedUpdates=Jc,Jt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!jl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Hl(t,r,o,!1,u)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var Bp;function a_(){if(Bp)return uh.exports;Bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),uh.exports=o_(),uh.exports}var $p;function l_(){if($p)return Wl;$p=1;var i=a_();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var u_=l_();const c_=ag(u_);var na={},jp;function h_(){if(jp)return na;jp=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=h,na.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,z){const L=new c,B=S.length;if(B<2)return L;const F=(z==null?void 0:z.decode)||w;let W=0;do{const H=S.indexOf("=",W);if(H===-1)break;const K=S.indexOf(";",W),Z=K===-1?B:K;if(H>Z){W=S.lastIndexOf(";",H-1)+1;continue}const fe=m(S,W,H),pe=g(S,H,fe),k=S.slice(fe,pe);if(L[k]===void 0){let T=m(S,H+1,Z),C=g(S,Z,T);const P=F(S.slice(T,C));L[k]=P}W=Z+1}while(W<B);return L}function m(S,z,L){do{const B=S.charCodeAt(z);if(B!==32&&B!==9)return z}while(++z<L);return L}function g(S,z,L){for(;z>L;){const B=S.charCodeAt(--z);if(B!==32&&B!==9)return z+1}return L}function v(S,z,L){const B=(L==null?void 0:L.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const F=B(z);if(!e.test(F))throw new TypeError(`argument val is invalid: ${z}`);let W=S+"="+F;if(!L)return W;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);W+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);W+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);W+="; Path="+L.path}if(L.expires){if(!A(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);W+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(W+="; HttpOnly"),L.secure&&(W+="; Secure"),L.partitioned&&(W+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return W}function w(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return a.call(S)==="[object Date]"}return na}h_();var Hp="popstate";function f_(i={}){function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return Sh("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:da(a)}return p_(e,n,null,i)}function Ze(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d_(){return Math.random().toString(36).substring(2,10)}function qp(i,e){return{usr:i.state,key:i.key,idx:e}}function Sh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||s||d_()}}function da({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function to(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function p_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function A(){m="POP";let F=w(),W=F==null?null:F-v;v=F,g&&g({action:m,location:B.location,delta:W})}function S(F,W){m="PUSH";let H=Sh(B.location,F,W);v=w()+1;let K=qp(H,v),Z=B.createHref(H);try{h.pushState(K,"",Z)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;a.location.assign(Z)}c&&g&&g({action:m,location:B.location,delta:1})}function z(F,W){m="REPLACE";let H=Sh(B.location,F,W);v=w();let K=qp(H,v),Z=B.createHref(H);h.replaceState(K,"",Z),c&&g&&g({action:m,location:B.location,delta:0})}function L(F){return m_(F)}let B={get action(){return m},get location(){return i(a,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Hp,A),g=F,()=>{a.removeEventListener(Hp,A),g=null}},createHref(F){return e(a,F)},createURL:L,encodeLocation(F){let W=L(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:S,replace:z,go(F){return h.go(F)}};return B}function m_(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:da(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function ug(i,e,n="/"){return g_(i,e,n,!1)}function g_(i,e,n,s){let a=typeof e=="string"?to(e):e,c=Er(a.pathname||"/",n);if(c==null)return null;let h=cg(i);y_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=k_(c);m=A_(h[g],v,s)}return m}function cg(i,e=[],n=[],s=""){let a=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(Ze(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=_r([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),cg(c.children,e,w,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:I_(v,c.index),routesMeta:w})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let g of hg(c.path))a(c,h,g)}),e}function hg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=hg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function y_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:C_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var v_=/^:[\w-]+$/,__=3,E_=2,w_=1,T_=10,S_=-2,Wp=i=>i==="*";function I_(i,e){let n=i.split("/"),s=n.length;return n.some(Wp)&&(s+=S_),e&&(s+=E_),n.filter(a=>!Wp(a)).reduce((a,c)=>a+(v_.test(c)?__:c===""?w_:T_),s)}function C_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function A_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",A=au({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),S=g.route;if(!A&&v&&n&&!s[s.length-1].route.index&&(A=au({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!A)return null;Object.assign(a,A.params),h.push({params:a,pathname:_r([c,A.pathname]),pathnameBase:N_(_r([c,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(c=_r([c,A.pathnameBase]))}return h}function au(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=R_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:A},S)=>{if(w==="*"){let L=m[S]||"";h=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const z=m[S];return A&&!z?v[w]=void 0:v[w]=(z||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function R_(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function k_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Er(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function P_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?to(i):i;return{pathname:n?n.startsWith("/")?n:x_(n,e):e,search:V_(s),hash:L_(a)}}function x_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fg(i){let e=D_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function dg(i,e,n,s=!1){let a;typeof i=="string"?a=to(i):(a={...i},Ze(!a.pathname||!a.pathname.includes("?"),fh("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),fh("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),fh("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),A-=1;a.pathname=S.join("/")}m=A>=0?e[A]:"/"}let g=P_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var _r=i=>i.join("/").replace(/\/\/+/g,"/"),N_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),V_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,L_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function O_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var pg=["POST","PUT","PATCH","DELETE"];new Set(pg);var M_=["GET",...pg];new Set(M_);var no=j.createContext(null);no.displayName="DataRouter";var _u=j.createContext(null);_u.displayName="DataRouterState";var mg=j.createContext({isTransitioning:!1});mg.displayName="ViewTransition";var b_=j.createContext(new Map);b_.displayName="Fetchers";var F_=j.createContext(null);F_.displayName="Await";var Jn=j.createContext(null);Jn.displayName="Navigation";var wa=j.createContext(null);wa.displayName="Location";var Zn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Zh=j.createContext(null);Zh.displayName="RouteError";function z_(i,{relative:e}={}){Ze(Ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Jn),{hash:a,pathname:c,search:h}=Sa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:_r([n,c])),s.createHref({pathname:m,search:h,hash:a})}function Ta(){return j.useContext(wa)!=null}function qi(){return Ze(Ta(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(wa).location}var gg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yg(i){j.useContext(Jn).static||j.useLayoutEffect(i)}function U_(){let{isDataRoute:i}=j.useContext(Zn);return i?Z_():B_()}function B_(){Ze(Ta(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(no),{basename:e,navigator:n}=j.useContext(Jn),{matches:s}=j.useContext(Zn),{pathname:a}=qi(),c=JSON.stringify(fg(s)),h=j.useRef(!1);return yg(()=>{h.current=!0}),j.useCallback((g,v={})=>{if(Gn(h.current,gg),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=dg(g,JSON.parse(c),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:_r([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,c,a,i])}j.createContext(null);function vg(){let{matches:i}=j.useContext(Zn),e=i[i.length-1];return e?e.params:{}}function Sa(i,{relative:e}={}){let{matches:n}=j.useContext(Zn),{pathname:s}=qi(),a=JSON.stringify(fg(n));return j.useMemo(()=>dg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function $_(i,e){return _g(i,e)}function _g(i,e,n,s){var W;Ze(Ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(Jn),{matches:c}=j.useContext(Zn),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let H=w&&w.path||"";Eg(g,!w||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let A=qi(),S;if(e){let H=typeof e=="string"?to(e):e;Ze(v==="/"||((W=H.pathname)==null?void 0:W.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${H.pathname}" was given in the \`location\` prop.`),S=H}else S=A;let z=S.pathname||"/",L=z;if(v!=="/"){let H=v.replace(/^\//,"").split("/");L="/"+z.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=ug(i,{pathname:L});Gn(w||B!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Gn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=K_(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:_r([v,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?v:_r([v,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),c,n,s);return e&&F?j.createElement(wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function j_(){let i=J_(),e=O_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,h)}var H_=j.createElement(j_,null),q_=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(Zn.Provider,{value:this.props.routeContext},j.createElement(Zh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W_({routeContext:i,match:e,children:n}){let s=j.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Zn.Provider,{value:i},n)}function K_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Ze(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:A}=n,S=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!A||A[v.route.id]===void 0);if(v.route.lazy||S){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let A,S=!1,z=null,L=null;n&&(A=c&&v.route.id?c[v.route.id]:void 0,z=v.route.errorElement||H_,h&&(m<0&&w===0?(Eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,L=null):m===w&&(S=!0,L=v.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,w+1)),F=()=>{let W;return A?W=z:S?W=L:v.route.Component?W=j.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=g,j.createElement(W_,{match:v,routeContext:{outlet:g,matches:B,isDataRoute:n!=null},children:W})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?j.createElement(q_,{location:n.location,revalidation:n.revalidation,component:z,error:A,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):F()},null)}function ef(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q_(i){let e=j.useContext(no);return Ze(e,ef(i)),e}function G_(i){let e=j.useContext(_u);return Ze(e,ef(i)),e}function X_(i){let e=j.useContext(Zn);return Ze(e,ef(i)),e}function tf(i){let e=X_(i),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Y_(){return tf("useRouteId")}function J_(){var s;let i=j.useContext(Zh),e=G_("useRouteError"),n=tf("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Z_(){let{router:i}=Q_("useNavigate"),e=tf("useNavigate"),n=j.useRef(!1);return yg(()=>{n.current=!0}),j.useCallback(async(a,c={})=>{Gn(n.current,gg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Kp={};function Eg(i,e,n){!e&&!Kp[i]&&(Kp[i]=!0,Gn(!1,n))}j.memo(e0);function e0({routes:i,future:e,state:n}){return _g(i,void 0,n,e)}function ia(i){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t0({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Ze(!Ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:a,static:c,future:{}}),[h,a,c]);typeof n=="string"&&(n=to(n));let{pathname:g="/",search:v="",hash:w="",state:A=null,key:S="default"}=n,z=j.useMemo(()=>{let L=Er(g,h);return L==null?null:{location:{pathname:L,search:v,hash:w,state:A,key:S},navigationType:s}},[h,g,v,w,A,S,s]);return Gn(z!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:j.createElement(Jn.Provider,{value:m},j.createElement(wa.Provider,{children:e,value:z}))}function n0({children:i,location:e}){return $_(Ih(i),e)}function Ih(i,e=[]){let n=[];return j.Children.forEach(i,(s,a)=>{if(!j.isValidElement(s))return;let c=[...e,a];if(s.type===j.Fragment){n.push.apply(n,Ih(s.props.children,c));return}Ze(s.type===ia,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ih(s.props.children,c)),n.push(h)}),n}var eu="get",tu="application/x-www-form-urlencoded";function Eu(i){return i!=null&&typeof i.tagName=="string"}function r0(i){return Eu(i)&&i.tagName.toLowerCase()==="button"}function i0(i){return Eu(i)&&i.tagName.toLowerCase()==="form"}function s0(i){return Eu(i)&&i.tagName.toLowerCase()==="input"}function o0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function a0(i,e){return i.button===0&&(!e||e==="_self")&&!o0(i)}var Kl=null;function l0(){if(Kl===null)try{new FormData(document.createElement("form"),0),Kl=!1}catch{Kl=!0}return Kl}var u0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dh(i){return i!=null&&!u0.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tu}"`),null):i}function c0(i,e){let n,s,a,c,h;if(i0(i)){let m=i.getAttribute("action");s=m?Er(m,e):null,n=i.getAttribute("method")||eu,a=dh(i.getAttribute("enctype"))||tu,c=new FormData(i)}else if(r0(i)||s0(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Er(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||eu,a=dh(i.getAttribute("formenctype"))||dh(m.getAttribute("enctype"))||tu,c=new FormData(m,i),!l0()){let{name:v,type:w,value:A}=i;if(w==="image"){let S=v?`${v}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else v&&c.append(v,A)}}else{if(Eu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=eu,s=null,a=tu,h=i}return c&&a==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:h}}function nf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function h0(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function d0(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let h=await h0(c,n);return h.links?h.links():[]}return[]}));return y0(s.flat(1).filter(f0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Qp(i,e,n,s,a,c){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):c==="data"?e.filter((g,v)=>{var A;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function p0(i,e,{includeHydrateFallback:n}={}){return m0(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let c=[a.module];return a.clientActionModule&&(c=c.concat(a.clientActionModule)),a.clientLoaderModule&&(c=c.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(c=c.concat(a.hydrateFallbackModule)),a.imports&&(c=c.concat(a.imports)),c}).flat(1))}function m0(i){return[...new Set(i)]}function g0(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function y0(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(g0(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v0=new Set([100,101,204,205]);function _0(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Er(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function wg(){let i=j.useContext(no);return nf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function E0(){let i=j.useContext(_u);return nf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rf=j.createContext(void 0);rf.displayName="FrameworkContext";function Tg(){let i=j.useContext(rf);return nf(i,"You must render this element inside a <HydratedRouter> element"),i}function w0(i,e){let n=j.useContext(rf),[s,a]=j.useState(!1),[c,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:A}=e,S=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=W=>{W.forEach(H=>{h(H.isIntersecting)})},F=new IntersectionObserver(B,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[i]),j.useEffect(()=>{if(s){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[s]);let z=()=>{a(!0)},L=()=>{a(!1),h(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:ra(m,z),onBlur:ra(g,L),onMouseEnter:ra(v,z),onMouseLeave:ra(w,L),onTouchStart:ra(A,z)}]:[!1,S,{}]}function ra(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function T0({page:i,...e}){let{router:n}=wg(),s=j.useMemo(()=>ug(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?j.createElement(I0,{page:i,matches:s,...e}):null}function S0(i){let{manifest:e,routeModules:n}=Tg(),[s,a]=j.useState([]);return j.useEffect(()=>{let c=!1;return d0(i,e,n).then(h=>{c||a(h)}),()=>{c=!0}},[i,e,n]),s}function I0({page:i,matches:e,...n}){let s=qi(),{manifest:a,routeModules:c}=Tg(),{basename:h}=wg(),{loaderData:m,matches:g}=E0(),v=j.useMemo(()=>Qp(i,e,g,a,s,"data"),[i,e,g,a,s]),w=j.useMemo(()=>Qp(i,e,g,a,s,"assets"),[i,e,g,a,s]),A=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,B=!1;if(e.forEach(W=>{var K;let H=a.routes[W.route.id];!H||!H.hasLoader||(!v.some(Z=>Z.route.id===W.route.id)&&W.route.id in m&&((K=c[W.route.id])!=null&&K.shouldRevalidate)||H.hasClientLoader?B=!0:L.add(W.route.id))}),L.size===0)return[];let F=_0(i,h);return B&&L.size>0&&F.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[F.pathname+F.search]},[h,m,s,a,v,e,i,c]),S=j.useMemo(()=>p0(w,a),[w,a]),z=S0(w);return j.createElement(j.Fragment,null,A.map(L=>j.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),S.map(L=>j.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),z.map(({key:L,link:B})=>j.createElement("link",{key:L,...B})))}function C0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sg&&(window.__reactRouterVersion="7.6.2")}catch{}function A0({basename:i,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=f_({window:n,v5Compat:!0}));let a=s.current,[c,h]=j.useState({action:a.action,location:a.location}),m=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>a.listen(m),[a,m]),j.createElement(t0,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vr=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:A,...S},z){let{basename:L}=j.useContext(Jn),B=typeof v=="string"&&Ig.test(v),F,W=!1;if(typeof v=="string"&&B&&(F=v,Sg))try{let C=new URL(window.location.href),P=v.startsWith("//")?new URL(C.protocol+v):new URL(v),D=Er(P.pathname,L);P.origin===C.origin&&D!=null?v=D+P.search+P.hash:W=!0}catch{Gn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=z_(v,{relative:a}),[K,Z,fe]=w0(s,S),pe=x0(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:A});function k(C){e&&e(C),C.defaultPrevented||pe(C)}let T=j.createElement("a",{...S,...fe,href:F||H,onClick:W||c?e:k,ref:C0(z,Z),target:g,"data-discover":!B&&n==="render"?"true":void 0});return K&&!B?j.createElement(j.Fragment,null,T,j.createElement(T0,{page:H})):T});vr.displayName="Link";var R0=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:h,viewTransition:m,children:g,...v},w){let A=Sa(h,{relative:v.relative}),S=qi(),z=j.useContext(_u),{navigator:L,basename:B}=j.useContext(Jn),F=z!=null&&O0(A)&&m===!0,W=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,H=S.pathname,K=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(H=H.toLowerCase(),K=K?K.toLowerCase():null,W=W.toLowerCase()),K&&B&&(K=Er(K,B)||K);const Z=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let fe=H===W||!a&&H.startsWith(W)&&H.charAt(Z)==="/",pe=K!=null&&(K===W||!a&&K.startsWith(W)&&K.charAt(W.length)==="/"),k={isActive:fe,isPending:pe,isTransitioning:F},T=fe?e:void 0,C;typeof s=="function"?C=s(k):C=[s,fe?"active":null,pe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(k):c;return j.createElement(vr,{...v,"aria-current":T,className:C,ref:w,style:P,to:h,viewTransition:m},typeof g=="function"?g(k):g)});R0.displayName="NavLink";var k0=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:h=eu,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:A,...S},z)=>{let L=V0(),B=L0(m,{relative:v}),F=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&Ig.test(m),H=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,fe=(Z==null?void 0:Z.getAttribute("formmethod"))||h;L(Z||K.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:a,state:c,relative:v,preventScrollReset:w,viewTransition:A})};return j.createElement("form",{ref:z,method:F,action:B,onSubmit:s?g:H,...S,"data-discover":!W&&i==="render"?"true":void 0})});k0.displayName="Form";function P0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cg(i){let e=j.useContext(no);return Ze(e,P0(i)),e}function x0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:h}={}){let m=U_(),g=qi(),v=Sa(i,{relative:c});return j.useCallback(w=>{if(a0(w,e)){w.preventDefault();let A=n!==void 0?n:da(g)===da(v);m(i,{replace:A,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,m,v,n,s,e,i,a,c,h])}var D0=0,N0=()=>`__${String(++D0)}__`;function V0(){let{router:i}=Cg("useSubmit"),{basename:e}=j.useContext(Jn),n=Y_();return j.useCallback(async(s,a={})=>{let{action:c,method:h,encType:m,formData:g,body:v}=c0(s,e);if(a.navigate===!1){let w=a.fetcherKey||N0();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function L0(i,{relative:e}={}){let{basename:n}=j.useContext(Jn),s=j.useContext(Zn);Ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...Sa(i||".",{relative:e})},h=qi();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:_r([n,c.pathname])),da(c)}function O0(i,e={}){let n=j.useContext(mg);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Cg("useViewTransitionState"),a=Sa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return au(a.pathname,h)!=null||au(a.pathname,c)!=null}[...v0];function Ag(i){var e,n,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(n=Ag(i[e]))&&(s&&(s+=" "),s+=n)}else for(n in i)i[n]&&(s&&(s+=" "),s+=n);return s}function Ui(){for(var i,e,n=0,s="",a=arguments.length;n<a;n++)(i=arguments[n])&&(e=Ag(i))&&(s&&(s+=" "),s+=e);return s}function M0(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i))}M0(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Ia=i=>typeof i=="number"&&!isNaN(i),ji=i=>typeof i=="string",wr=i=>typeof i=="function",b0=i=>ji(i)||Ia(i),Ch=i=>ji(i)||wr(i)?i:null,F0=(i,e)=>i===!1||Ia(i)&&i>0?i:e,Ah=i=>j.isValidElement(i)||ji(i)||wr(i)||Ia(i);function z0(i,e,n=300){let{scrollHeight:s,style:a}=i;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function U0({enter:i,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:a=300}){return function({children:c,position:h,preventExitTransition:m,done:g,nodeRef:v,isIn:w,playToast:A}){let S=n?`${i}--${h}`:i,z=n?`${e}--${h}`:e,L=j.useRef(0);return j.useLayoutEffect(()=>{let B=v.current,F=S.split(" "),W=H=>{H.target===v.current&&(A(),B.removeEventListener("animationend",W),B.removeEventListener("animationcancel",W),L.current===0&&H.type!=="animationcancel"&&B.classList.remove(...F))};B.classList.add(...F),B.addEventListener("animationend",W),B.addEventListener("animationcancel",W)},[]),j.useEffect(()=>{let B=v.current,F=()=>{B.removeEventListener("animationend",F),s?z0(B,g,a):g()};w||(m?F():(L.current=1,B.className+=` ${z}`,B.addEventListener("animationend",F)))},[w]),ee.createElement(ee.Fragment,null,c)}}function Gp(i,e){return{content:Rg(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function Rg(i,e,n=!1){return j.isValidElement(i)&&!ji(i.type)?j.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):wr(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):i}function B0({closeToast:i,theme:e,ariaLabel:n="close"}){return ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":n},ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $0({delay:i,isRunning:e,closeToast:n,type:s="default",hide:a,className:c,controlledProgress:h,progress:m,rtl:g,isIn:v,theme:w}){let A=a||h&&m===0,S={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};h&&(S.transform=`scaleX(${m})`);let z=Ui("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${w}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":g}),L=wr(c)?c({rtl:g,type:s,defaultClassName:z}):Ui(z,c),B={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{v&&n()}};return ee.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},ee.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${w} Toastify__progress-bar--${s}`}),ee.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:L,style:S,...B}))}var j0=1,kg=()=>`${j0++}`;function H0(i,e,n){let s=1,a=0,c=[],h=[],m=e,g=new Map,v=new Set,w=H=>(v.add(H),()=>v.delete(H)),A=()=>{h=Array.from(g.values()),v.forEach(H=>H())},S=({containerId:H,toastId:K,updateId:Z})=>{let fe=H?H!==i:i!==1,pe=g.has(K)&&Z==null;return fe||pe},z=(H,K)=>{g.forEach(Z=>{var fe;(K==null||K===Z.props.toastId)&&((fe=Z.toggle)==null||fe.call(Z,H))})},L=H=>{var K,Z;(Z=(K=H.props)==null?void 0:K.onClose)==null||Z.call(K,H.removalReason),H.isActive=!1},B=H=>{if(H==null)g.forEach(L);else{let K=g.get(H);K&&L(K)}A()},F=()=>{a-=c.length,c=[]},W=H=>{var K,Z;let{toastId:fe,updateId:pe}=H.props,k=pe==null;H.staleId&&g.delete(H.staleId),H.isActive=!0,g.set(fe,H),A(),n(Gp(H,k?"added":"updated")),k&&((Z=(K=H.props).onOpen)==null||Z.call(K))};return{id:i,props:m,observe:w,toggle:z,removeToast:B,toasts:g,clearQueue:F,buildToast:(H,K)=>{if(S(K))return;let{toastId:Z,updateId:fe,data:pe,staleId:k,delay:T}=K,C=fe==null;C&&a++;let P={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(K).filter(([V,R])=>R!=null)),toastId:Z,updateId:fe,data:pe,isIn:!1,className:Ch(K.className||m.toastClassName),progressClassName:Ch(K.progressClassName||m.progressClassName),autoClose:K.isLoading?!1:F0(K.autoClose,m.autoClose),closeToast(V){g.get(Z).removalReason=V,B(Z)},deleteToast(){let V=g.get(Z);if(V!=null){if(n(Gp(V,"removed")),g.delete(Z),a--,a<0&&(a=0),c.length>0){W(c.shift());return}A()}}};P.closeButton=m.closeButton,K.closeButton===!1||Ah(K.closeButton)?P.closeButton=K.closeButton:K.closeButton===!0&&(P.closeButton=Ah(m.closeButton)?m.closeButton:!0);let D={content:H,props:P,staleId:k};m.limit&&m.limit>0&&a>m.limit&&C?c.push(D):Ia(T)?setTimeout(()=>{W(D)},T):W(D)},setProps(H){m=H},setToggle:(H,K)=>{let Z=g.get(H);Z&&(Z.toggle=K)},isToastActive:H=>{var K;return(K=g.get(H))==null?void 0:K.isActive},getSnapshot:()=>h}}var Ht=new Map,pa=[],Rh=new Set,q0=i=>Rh.forEach(e=>e(i)),Pg=()=>Ht.size>0;function W0(){pa.forEach(i=>Dg(i.content,i.options)),pa=[]}var K0=(i,{containerId:e})=>{var n;return(n=Ht.get(e||1))==null?void 0:n.toasts.get(i)};function xg(i,e){var n;if(e)return!!((n=Ht.get(e))!=null&&n.isToastActive(i));let s=!1;return Ht.forEach(a=>{a.isToastActive(i)&&(s=!0)}),s}function Q0(i){if(!Pg()){pa=pa.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||b0(i))Ht.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=Ht.get(i.containerId);e?e.removeToast(i.id):Ht.forEach(n=>{n.removeToast(i.id)})}}var G0=(i={})=>{Ht.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function Dg(i,e){Ah(i)&&(Pg()||pa.push({content:i,options:e}),Ht.forEach(n=>{n.buildToast(i,e)}))}function X0(i){var e;(e=Ht.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function Ng(i,e){Ht.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(i,e==null?void 0:e.id)})}function Y0(i){let e=i.containerId||1;return{subscribe(n){let s=H0(e,i,q0);Ht.set(e,s);let a=s.observe(n);return W0(),()=>{a(),Ht.delete(e)}},setProps(n){var s;(s=Ht.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=Ht.get(e))==null?void 0:n.getSnapshot()}}}function J0(i){return Rh.add(i),()=>{Rh.delete(i)}}function Z0(i){return i&&(ji(i.toastId)||Ia(i.toastId))?i.toastId:kg()}function Ca(i,e){return Dg(i,e),e.toastId}function wu(i,e){return{...e,type:e&&e.type||i,toastId:Z0(e)}}function Tu(i){return(e,n)=>Ca(e,wu(i,n))}function Be(i,e){return Ca(i,wu("default",e))}Be.loading=(i,e)=>Ca(i,wu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function eE(i,{pending:e,error:n,success:s},a){let c;e&&(c=ji(e)?Be.loading(e,a):Be.loading(e.render,{...a,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(v,w,A)=>{if(w==null){Be.dismiss(c);return}let S={type:v,...h,...a,data:A},z=ji(w)?{render:w}:w;return c?Be.update(c,{...S,...z}):Be(z.render,{...S,...z}),A},g=wr(i)?i():i;return g.then(v=>m("success",s,v)).catch(v=>m("error",n,v)),g}Be.promise=eE;Be.success=Tu("success");Be.info=Tu("info");Be.error=Tu("error");Be.warning=Tu("warning");Be.warn=Be.warning;Be.dark=(i,e)=>Ca(i,wu("default",{theme:"dark",...e}));function tE(i){Q0(i)}Be.dismiss=tE;Be.clearWaitingQueue=G0;Be.isActive=xg;Be.update=(i,e={})=>{let n=K0(i,e);if(n){let{props:s,content:a}=n,c={delay:100,...s,...e,toastId:e.toastId||i,updateId:kg()};c.toastId!==i&&(c.staleId=i);let h=c.render||a;delete c.render,Ca(h,c)}};Be.done=i=>{Be.update(i,{progress:1})};Be.onChange=J0;Be.play=i=>Ng(!0,i);Be.pause=i=>Ng(!1,i);function nE(i){var e;let{subscribe:n,getSnapshot:s,setProps:a}=j.useRef(Y0(i)).current;a(i);let c=(e=j.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function h(m){if(!c)return[];let g=new Map;return i.newestOnTop&&c.reverse(),c.forEach(v=>{let{position:w}=v.props;g.has(w)||g.set(w,[]),g.get(w).push(v)}),Array.from(g,v=>m(v[0],v[1]))}return{getToastToRender:h,isToastActive:xg,count:c==null?void 0:c.length}}function rE(i){let[e,n]=j.useState(!1),[s,a]=j.useState(!1),c=j.useRef(null),h=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:g,closeToast:v,onClick:w,closeOnClick:A}=i;X0({id:i.toastId,containerId:i.containerId,fn:n}),j.useEffect(()=>{if(i.pauseOnFocusLoss)return S(),()=>{z()}},[i.pauseOnFocusLoss]);function S(){document.hasFocus()||W(),window.addEventListener("focus",F),window.addEventListener("blur",W)}function z(){window.removeEventListener("focus",F),window.removeEventListener("blur",W)}function L(k){if(i.draggable===!0||i.draggable===k.pointerType){H();let T=c.current;h.canCloseOnClick=!0,h.canDrag=!0,T.style.transition="none",i.draggableDirection==="x"?(h.start=k.clientX,h.removalDistance=T.offsetWidth*(i.draggablePercent/100)):(h.start=k.clientY,h.removalDistance=T.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function B(k){let{top:T,bottom:C,left:P,right:D}=c.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&i.pauseOnHover&&k.clientX>=P&&k.clientX<=D&&k.clientY>=T&&k.clientY<=C?W():F()}function F(){n(!0)}function W(){n(!1)}function H(){h.didMove=!1,document.addEventListener("pointermove",Z),document.addEventListener("pointerup",fe)}function K(){document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",fe)}function Z(k){let T=c.current;if(h.canDrag&&T){h.didMove=!0,e&&W(),i.draggableDirection==="x"?h.delta=k.clientX-h.start:h.delta=k.clientY-h.start,h.start!==k.clientX&&(h.canCloseOnClick=!1);let C=i.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;T.style.transform=`translate3d(${C},0)`,T.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function fe(){K();let k=c.current;if(h.canDrag&&h.didMove&&k){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){a(!0),i.closeToast(!0),i.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let pe={onPointerDown:L,onPointerUp:B};return m&&g&&(pe.onMouseEnter=W,i.stacked||(pe.onMouseLeave=F)),A&&(pe.onClick=k=>{w&&w(k),h.canCloseOnClick&&v(!0)}),{playToast:F,pauseToast:W,isRunning:e,preventExitTransition:s,toastRef:c,eventHandlers:pe}}var iE=typeof window<"u"?j.useLayoutEffect:j.useEffect,Su=({theme:i,type:e,isLoading:n,...s})=>ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function sE(i){return ee.createElement(Su,{...i},ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function oE(i){return ee.createElement(Su,{...i},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function aE(i){return ee.createElement(Su,{...i},ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function lE(i){return ee.createElement(Su,{...i},ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function uE(){return ee.createElement("div",{className:"Toastify__spinner"})}var kh={info:oE,warning:sE,success:aE,error:lE,spinner:uE},cE=i=>i in kh;function hE({theme:i,type:e,isLoading:n,icon:s}){let a=null,c={theme:i,type:e};return s===!1||(wr(s)?a=s({...c,isLoading:n}):j.isValidElement(s)?a=j.cloneElement(s,c):n?a=kh.spinner():cE(e)&&(a=kh[e](c))),a}var fE=i=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:a,playToast:c}=rE(i),{closeButton:h,children:m,autoClose:g,onClick:v,type:w,hideProgressBar:A,closeToast:S,transition:z,position:L,className:B,style:F,progressClassName:W,updateId:H,role:K,progress:Z,rtl:fe,toastId:pe,deleteToast:k,isIn:T,isLoading:C,closeOnClick:P,theme:D,ariaLabel:V}=i,R=Ui("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${w}`,{"Toastify__toast--rtl":fe},{"Toastify__toast--close-on-click":P}),Ge=wr(B)?B({rtl:fe,position:L,type:w,defaultClassName:R}):Ui(R,B),ht=hE(i),ft=!!Z||!g,Oe={closeToast:S,type:w,theme:D},ne=null;return h===!1||(wr(h)?ne=h(Oe):j.isValidElement(h)?ne=j.cloneElement(h,Oe):ne=B0(Oe)),ee.createElement(z,{isIn:T,done:k,position:L,preventExitTransition:n,nodeRef:s,playToast:c},ee.createElement("div",{id:pe,tabIndex:0,onClick:v,"data-in":T,className:Ge,...a,style:F,ref:s,...T&&{role:K,"aria-label":V}},ht!=null&&ee.createElement("div",{className:Ui("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ht),Rg(m,i,!e),ne,!i.customProgressBar&&ee.createElement($0,{...H&&!ft?{key:`p-${H}`}:{},rtl:fe,theme:D,delay:g,isRunning:e,isIn:T,closeToast:S,hide:A,type:w,className:W,controlledProgress:ft,progress:Z||0})))},dE=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),pE=U0(dE("bounce",!0)),mE={position:"top-right",transition:pE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function gE(i){let e={...mE,...i},n=i.stacked,[s,a]=j.useState(!0),c=j.useRef(null),{getToastToRender:h,isToastActive:m,count:g}=nE(e),{className:v,style:w,rtl:A,containerId:S,hotKeys:z}=e;function L(F){let W=Ui("Toastify__toast-container",`Toastify__toast-container--${F}`,{"Toastify__toast-container--rtl":A});return wr(v)?v({position:F,rtl:A,defaultClassName:W}):Ui(W,Ch(v))}function B(){n&&(a(!0),Be.play())}return iE(()=>{var F;if(n){let W=c.current.querySelectorAll('[data-in="true"]'),H=12,K=(F=e.position)==null?void 0:F.includes("top"),Z=0,fe=0;Array.from(W).reverse().forEach((pe,k)=>{let T=pe;T.classList.add("Toastify__toast--stacked"),k>0&&(T.dataset.collapsed=`${s}`),T.dataset.pos||(T.dataset.pos=K?"top":"bot");let C=Z*(s?.2:1)+(s?0:H*k);T.style.setProperty("--y",`${K?C:C*-1}px`),T.style.setProperty("--g",`${H}`),T.style.setProperty("--s",`${1-(s?fe:0)}`),Z+=T.offsetHeight,fe+=.025})}},[s,g,n]),j.useEffect(()=>{function F(W){var H;let K=c.current;z(W)&&((H=K.querySelector('[tabIndex="0"]'))==null||H.focus(),a(!1),Be.pause()),W.key==="Escape"&&(document.activeElement===K||K!=null&&K.contains(document.activeElement))&&(a(!0),Be.play())}return document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[z]),ee.createElement("section",{ref:c,className:"Toastify",id:S,onMouseEnter:()=>{n&&(a(!1),Be.pause())},onMouseLeave:B,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((F,W)=>{let H=W.length?{...w}:{...w,pointerEvents:"none"};return ee.createElement("div",{tabIndex:-1,className:L(F),"data-stacked":n,style:H,key:`c-${F}`},W.map(({content:K,props:Z})=>ee.createElement(fE,{...Z,stacked:n,collapseAll:B,isIn:m(Z.toastId,Z.containerId),key:`t-${Z.key}`},K)))}))}const sf=j.createContext();function Vg({children:i}){const[e,n]=j.useState([]);j.useEffect(()=>{const g=localStorage.getItem("cart");g&&n(JSON.parse(g))},[]),j.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=(g,v)=>{if(v<=0)return;const w=e.find(A=>A.id===g.id);n(w?e.map(A=>A.id===g.id?{...A,cantidad:A.cantidad+v}:A):[...e,{...g,cantidad:v}])},a=()=>n([]),c=g=>n(e.filter(v=>v.id!==g)),h=()=>e.reduce((g,v)=>g+v.cantidad,0),m=()=>e.reduce((g,v)=>g+v.price*v.cantidad,0);return ee.createElement(sf.Provider,{value:{cart:e,addItem:s,clearCart:a,removeItem:c,totalItems:h,totalPrice:m}},i)}function yE(){const{totalItems:i}=j.useContext(sf);return ee.createElement(vr,{to:"/cart",style:{textDecoration:"none"}},ee.createElement("div",{style:Xp.cart},"🛒",i()>0&&ee.createElement("span",{style:Xp.count},i())))}const Xp={cart:{fontSize:"1.5rem",position:"relative",cursor:"pointer",color:"black"},count:{position:"absolute",top:"-8px",right:"-10px",backgroundColor:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"0.75rem"}};function vE(){return ee.createElement("nav",{style:Gr.nav},ee.createElement(vr,{to:"/",style:Gr.logoLink},ee.createElement("h1",{style:Gr.logo},"Crissacio Shop")),ee.createElement("ul",{style:Gr.links},ee.createElement("li",null,ee.createElement(vr,{to:"/category/electronica",style:Gr.link},"Electrónica")),ee.createElement("li",null,ee.createElement(vr,{to:"/category/ropa",style:Gr.link},"Ropa")),ee.createElement("li",null,ee.createElement(vr,{to:"/category/hogar",style:Gr.link},"Hogar"))),ee.createElement(vr,{to:"/cart",style:Gr.cartLink},ee.createElement(yE,null)))}const Gr={nav:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 2rem",backgroundColor:"#1e1e1e",color:"#fff"},logo:{margin:0,fontSize:"1.5rem"},logoLink:{textDecoration:"none",color:"#fff"},links:{listStyle:"none",display:"flex",gap:"1rem",margin:0,padding:0},link:{textDecoration:"none",color:"#fff"},cartLink:{cursor:"pointer"}};function _E({children:i}){return ee.createElement(ee.Fragment,null,ee.createElement(vE,null),ee.createElement("main",{style:{padding:"2rem"}},i))}const EE=()=>{};var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Og={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=c>>2,A=(c&3)<<4|m>>4;let S=(m&15)<<2|v>>6,z=v&63;g||(z=64,h||(S=64)),s.push(n[w],n[A],n[S],n[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Lg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):wE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const A=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||A==null)throw new TE;const S=c<<2|m>>4;if(s.push(S),v!==64){const z=m<<4&240|v>>2;if(s.push(z),A!==64){const L=v<<6&192|A;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class TE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SE=function(i){const e=Lg(i);return Og.encodeByteArray(e,!0)},lu=function(i){return SE(i).replace(/\./g,"")},IE=function(i){try{return Og.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=()=>CE().__FIREBASE_DEFAULTS__,RE=()=>{if(typeof process>"u"||typeof Yp>"u")return;const i=Yp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},kE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&IE(i[1]);return e&&JSON.parse(e)},of=()=>{try{return EE()||AE()||RE()||kE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},PE=i=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},xE=i=>{const e=PE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Mg=()=>{var i;return(i=of())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lu(JSON.stringify(n)),lu(JSON.stringify(h)),""].join(".")}const la={};function LE(){const i={prod:[],emulator:[]};for(const e of Object.keys(la))la[e]?i.emulator.push(e):i.prod.push(e);return i}function OE(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Jp=!1;function ME(i,e){if(typeof window>"u"||typeof document>"u"||!af(window.location.host)||la[i]===e||la[i]||Jp)return;la[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=LE().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function v(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Jp=!0,h()},S}function w(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=OE(s),z=n("text"),L=document.getElementById(z)||document.createElement("span"),B=n("learnmore"),F=document.getElementById(B)||document.createElement("a"),W=n("preprendIcon"),H=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;m(K),w(F,B);const Z=v();g(H,W),K.append(H,L,F,Z),document.body.appendChild(K)}c?(L.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FE(){var i;const e=(i=of())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zE(){return!FE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UE(){try{return typeof indexedDB=="object"}catch{return!1}}function BE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="FirebaseError";class ro extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$E,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bg.prototype.create)}}class bg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?jE(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new ro(a,m,s)}}function jE(i,e){return i.replace(HE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const HE=/\{\$([^}]+)}/g;function uu(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(Zp(c)&&Zp(h)){if(!uu(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Zp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i){return i&&i._delegate?i._delegate:i}class ma{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new DE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QE(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KE(i){return i===Fi?void 0:i}function QE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const XE={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},YE=De.INFO,JE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},ZE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=JE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=YE,this._logHandler=ZE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const e1=(i,e)=>e.some(n=>i instanceof n);let em,tm;function t1(){return em||(em=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return tm||(tm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zg=new WeakMap,Ph=new WeakMap,Ug=new WeakMap,ph=new WeakMap,lf=new WeakMap;function r1(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Jr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&zg.set(n,i)}).catch(()=>{}),lf.set(e,i),e}function i1(i){if(Ph.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Ph.set(i,e)}let xh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ph.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ug.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function s1(i){xh=i(xh)}function o1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(mh(this),e,...n);return Ug.set(s,e.sort?e.sort():[e]),Jr(s)}:n1().includes(i)?function(...e){return i.apply(mh(this),e),Jr(zg.get(this))}:function(...e){return Jr(i.apply(mh(this),e))}}function a1(i){return typeof i=="function"?o1(i):(i instanceof IDBTransaction&&i1(i),e1(i,t1())?new Proxy(i,xh):i)}function Jr(i){if(i instanceof IDBRequest)return r1(i);if(ph.has(i))return ph.get(i);const e=a1(i);return e!==i&&(ph.set(i,e),lf.set(e,i)),e}const mh=i=>lf.get(i);function l1(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Jr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Jr(h.result),g.oldVersion,g.newVersion,Jr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],gh=new Map;function nm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(gh.get(e))return gh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=c1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||u1.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return gh.set(e,c),c}s1(i=>({...i,get:(e,n,s)=>nm(e,n)||i.get(e,n,s),has:(e,n)=>!!nm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dh="@firebase/app",rm="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new Fg("@firebase/app"),d1="@firebase/app-compat",p1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",y1="@firebase/app-check",v1="@firebase/auth",_1="@firebase/auth-compat",E1="@firebase/database",w1="@firebase/data-connect",T1="@firebase/database-compat",S1="@firebase/functions",I1="@firebase/functions-compat",C1="@firebase/installations",A1="@firebase/installations-compat",R1="@firebase/messaging",k1="@firebase/messaging-compat",P1="@firebase/performance",x1="@firebase/performance-compat",D1="@firebase/remote-config",N1="@firebase/remote-config-compat",V1="@firebase/storage",L1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/ai",b1="@firebase/firestore-compat",F1="firebase",z1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="[DEFAULT]",U1={[Dh]:"fire-core",[d1]:"fire-core-compat",[m1]:"fire-analytics",[p1]:"fire-analytics-compat",[y1]:"fire-app-check",[g1]:"fire-app-check-compat",[v1]:"fire-auth",[_1]:"fire-auth-compat",[E1]:"fire-rtdb",[w1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[S1]:"fire-fn",[I1]:"fire-fn-compat",[C1]:"fire-iid",[A1]:"fire-iid-compat",[R1]:"fire-fcm",[k1]:"fire-fcm-compat",[P1]:"fire-perf",[x1]:"fire-perf-compat",[D1]:"fire-rc",[N1]:"fire-rc-compat",[V1]:"fire-gcs",[L1]:"fire-gcs-compat",[O1]:"fire-fst",[b1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[F1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,B1=new Map,Vh=new Map;function im(i,e){try{i.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function hu(i){const e=i.name;if(Vh.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;Vh.set(e,i);for(const n of cu.values())im(n,i);for(const n of B1.values())im(n,i);return!0}function $1(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function j1(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new bg("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ma("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=z1;function Bg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nh,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Zr.create("bad-app-name",{appName:String(a)});if(n||(n=Mg()),!n)throw Zr.create("no-options");const c=cu.get(a);if(c){if(uu(n,c.options)&&uu(s,c.config))return c;throw Zr.create("duplicate-app",{appName:a})}const h=new GE(a);for(const g of Vh.values())h.addComponent(g);const m=new q1(n,s,h);return cu.set(a,m),m}function K1(i=Nh){const e=cu.get(i);if(!e&&i===Nh&&Mg())return Bg();if(!e)throw Zr.create("no-app",{appName:i});return e}function js(i,e,n){var s;let a=(s=U1[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(m.join(" "));return}hu(new ma(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebase-heartbeat-database",G1=1,ga="firebase-heartbeat-store";let yh=null;function $g(){return yh||(yh=l1(Q1,G1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zr.create("idb-open",{originalErrorMessage:i.message})})),yh}async function X1(i){try{const n=(await $g()).transaction(ga),s=await n.objectStore(ga).get(jg(i));return await n.done,s}catch(e){if(e instanceof ro)Tr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function sm(i,e){try{const s=(await $g()).transaction(ga,"readwrite");await s.objectStore(ga).put(e,jg(i)),await s.done}catch(n){if(n instanceof ro)Tr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function jg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,J1=30;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=om();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>J1){const h=nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=om(),{heartbeatsToSend:s,unsentEntries:a}=ew(this._heartbeatsCache.heartbeats),c=lu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Tr.warn(n),""}}}function om(){return new Date().toISOString().substring(0,10)}function ew(i,e=Y1){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),am(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),am(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UE()?BE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await X1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function am(i){return lu(JSON.stringify({version:2,heartbeats:i})).length}function nw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){hu(new ma("platform-logger",e=>new h1(e),"PRIVATE")),hu(new ma("heartbeat",e=>new Z1(e),"PRIVATE")),js(Dh,rm,i),js(Dh,rm,"esm2017"),js("fire-js","")}rw("");var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,Hg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function C(){}C.prototype=T.prototype,k.D=T.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(P,D,V){for(var R=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)R[Ge-2]=arguments[Ge];return T.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,C){C||(C=0);var P=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)P[D]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=k.g[0],C=k.g[1],D=k.g[2];var V=k.g[3],R=T+(V^C&(D^V))+P[0]+3614090360&4294967295;T=C+(R<<7&4294967295|R>>>25),R=V+(D^T&(C^D))+P[1]+3905402710&4294967295,V=T+(R<<12&4294967295|R>>>20),R=D+(C^V&(T^C))+P[2]+606105819&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(T^D&(V^T))+P[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(V^C&(D^V))+P[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=V+(D^T&(C^D))+P[5]+1200080426&4294967295,V=T+(R<<12&4294967295|R>>>20),R=D+(C^V&(T^C))+P[6]+2821735955&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(T^D&(V^T))+P[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(V^C&(D^V))+P[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=V+(D^T&(C^D))+P[9]+2336552879&4294967295,V=T+(R<<12&4294967295|R>>>20),R=D+(C^V&(T^C))+P[10]+4294925233&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(T^D&(V^T))+P[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(V^C&(D^V))+P[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=V+(D^T&(C^D))+P[13]+4254626195&4294967295,V=T+(R<<12&4294967295|R>>>20),R=D+(C^V&(T^C))+P[14]+2792965006&4294967295,D=V+(R<<17&4294967295|R>>>15),R=C+(T^D&(V^T))+P[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=T+(D^V&(C^D))+P[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(T^C))+P[6]+3225465664&4294967295,V=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(V^T))+P[11]+643717713&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^T&(D^V))+P[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^V&(C^D))+P[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(T^C))+P[10]+38016083&4294967295,V=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(V^T))+P[15]+3634488961&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^T&(D^V))+P[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^V&(C^D))+P[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(T^C))+P[14]+3275163606&4294967295,V=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(V^T))+P[3]+4107603335&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^T&(D^V))+P[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(D^V&(C^D))+P[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=V+(C^D&(T^C))+P[2]+4243563512&4294967295,V=T+(R<<9&4294967295|R>>>23),R=D+(T^C&(V^T))+P[7]+1735328473&4294967295,D=V+(R<<14&4294967295|R>>>18),R=C+(V^T&(D^V))+P[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=T+(C^D^V)+P[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=V+(T^C^D)+P[8]+2272392833&4294967295,V=T+(R<<11&4294967295|R>>>21),R=D+(V^T^C)+P[11]+1839030562&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^T)+P[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^V)+P[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=V+(T^C^D)+P[4]+1272893353&4294967295,V=T+(R<<11&4294967295|R>>>21),R=D+(V^T^C)+P[7]+4139469664&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^T)+P[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^V)+P[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=V+(T^C^D)+P[0]+3936430074&4294967295,V=T+(R<<11&4294967295|R>>>21),R=D+(V^T^C)+P[3]+3572445317&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^T)+P[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(C^D^V)+P[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=V+(T^C^D)+P[12]+3873151461&4294967295,V=T+(R<<11&4294967295|R>>>21),R=D+(V^T^C)+P[15]+530742520&4294967295,D=V+(R<<16&4294967295|R>>>16),R=C+(D^V^T)+P[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=T+(D^(C|~V))+P[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=V+(C^(T|~D))+P[7]+1126891415&4294967295,V=T+(R<<10&4294967295|R>>>22),R=D+(T^(V|~C))+P[14]+2878612391&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~T))+P[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~V))+P[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=V+(C^(T|~D))+P[3]+2399980690&4294967295,V=T+(R<<10&4294967295|R>>>22),R=D+(T^(V|~C))+P[10]+4293915773&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~T))+P[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~V))+P[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=V+(C^(T|~D))+P[15]+4264355552&4294967295,V=T+(R<<10&4294967295|R>>>22),R=D+(T^(V|~C))+P[6]+2734768916&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~T))+P[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=T+(D^(C|~V))+P[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=V+(C^(T|~D))+P[11]+3174756917&4294967295,V=T+(R<<10&4294967295|R>>>22),R=D+(T^(V|~C))+P[2]+718787259&4294967295,D=V+(R<<15&4294967295|R>>>17),R=C+(V^(D|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var C=T-this.blockSize,P=this.B,D=this.h,V=0;V<T;){if(D==0)for(;V<=C;)a(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<T;)if(P[D++]=k.charCodeAt(V++),D==this.blockSize){a(this,P),D=0;break}}else for(;V<T;)if(P[D++]=k[V++],D==this.blockSize){a(this,P),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var C=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=C&255,C/=256;for(this.u(k),k=Array(16),T=C=0;4>T;++T)for(var P=0;32>P;P+=8)k[C++]=this.g[T]>>>P&255;return k};function c(k,T){var C=m;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=T(k)}function h(k,T){this.h=T;for(var C=[],P=!0,D=k.length-1;0<=D;D--){var V=k[D]|0;P&&V==T||(C[D]=V,P=!1)}this.g=C}var m={};function g(k){return-128<=k&&128>k?c(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return A;if(0>k)return F(v(-k));for(var T=[],C=1,P=0;k>=C;P++)T[P]=k/C|0,C*=4294967296;return new h(T,0)}function w(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return F(w(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=v(Math.pow(T,8)),P=A,D=0;D<k.length;D+=8){var V=Math.min(8,k.length-D),R=parseInt(k.substring(D,D+V),T);8>V?(V=v(Math.pow(T,V)),P=P.j(V).add(v(R))):(P=P.j(C),P=P.add(v(R)))}return P}var A=g(0),S=g(1),z=g(16777216);i=h.prototype,i.m=function(){if(B(this))return-F(this).m();for(var k=0,T=1,C=0;C<this.g.length;C++){var P=this.i(C);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(L(this))return"0";if(B(this))return"-"+F(this).toString(k);for(var T=v(Math.pow(k,6)),C=this,P="";;){var D=Z(C,T).g;C=W(C,D.j(T));var V=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=D,L(C))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function L(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function B(k){return k.h==-1}i.l=function(k){return k=W(this,k),B(k)?-1:L(k)?0:1};function F(k){for(var T=k.g.length,C=[],P=0;P<T;P++)C[P]=~k.g[P];return new h(C,~k.h).add(S)}i.abs=function(){return B(this)?F(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0,D=0;D<=T;D++){var V=P+(this.i(D)&65535)+(k.i(D)&65535),R=(V>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);P=R>>>16,V&=65535,R&=65535,C[D]=R<<16|V}return new h(C,C[C.length-1]&-2147483648?-1:0)};function W(k,T){return k.add(F(T))}i.j=function(k){if(L(this)||L(k))return A;if(B(this))return B(k)?F(this).j(F(k)):F(F(this).j(k));if(B(k))return F(this.j(F(k)));if(0>this.l(z)&&0>k.l(z))return v(this.m()*k.m());for(var T=this.g.length+k.g.length,C=[],P=0;P<2*T;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<k.g.length;D++){var V=this.i(P)>>>16,R=this.i(P)&65535,Ge=k.i(D)>>>16,ht=k.i(D)&65535;C[2*P+2*D]+=R*ht,H(C,2*P+2*D),C[2*P+2*D+1]+=V*ht,H(C,2*P+2*D+1),C[2*P+2*D+1]+=R*Ge,H(C,2*P+2*D+1),C[2*P+2*D+2]+=V*Ge,H(C,2*P+2*D+2)}for(P=0;P<T;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=T;P<2*T;P++)C[P]=0;return new h(C,0)};function H(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function K(k,T){this.g=k,this.h=T}function Z(k,T){if(L(T))throw Error("division by zero");if(L(k))return new K(A,A);if(B(k))return T=Z(F(k),T),new K(F(T.g),F(T.h));if(B(T))return T=Z(k,F(T)),new K(F(T.g),T.h);if(30<k.g.length){if(B(k)||B(T))throw Error("slowDivide_ only works with positive integers.");for(var C=S,P=T;0>=P.l(k);)C=fe(C),P=fe(P);var D=pe(C,1),V=pe(P,1);for(P=pe(P,2),C=pe(C,2);!L(P);){var R=V.add(P);0>=R.l(k)&&(D=D.add(C),V=R),P=pe(P,1),C=pe(C,1)}return T=W(k,D.j(T)),new K(D,T)}for(D=A;0<=k.l(T);){for(C=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=v(C),R=V.j(T);B(R)||0<R.l(k);)C-=P,V=v(C),R=V.j(T);L(V)&&(V=S),D=D.add(V),k=W(k,R)}return new K(D,k)}i.A=function(k){return Z(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)&k.i(P);return new h(C,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)|k.i(P);return new h(C,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),C=[],P=0;P<T;P++)C[P]=this.i(P)^k.i(P);return new h(C,this.h^k.h)};function fe(k){for(var T=k.g.length+1,C=[],P=0;P<T;P++)C[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(C,k.h)}function pe(k,T){var C=T>>5;T%=32;for(var P=k.g.length-C,D=[],V=0;V<P;V++)D[V]=0<T?k.i(V+C)>>>T|k.i(V+C+1)<<32-T:k.i(V+C);return new h(D,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,ei=h}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qg,sa,Wg,nu,Lh,Kg,Qg,Gg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var q=y++;return{value:d(q,l[q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function A(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function S(l,d,y){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,S.apply(null,arguments)}function z(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function L(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,q){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return d.prototype[M].apply(E,re)}}function B(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function F(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,q=E.length||0;l.length=M+q;for(let re=0;re<q;re++)l[M+re]=E[re]}else l.push(E)}}class W{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(l){return/^[\s\xa0]*$/.test(l)}function K(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var fe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function pe(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function k(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let q=0;q<C.length;q++)y=C[q],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function V(l){m.setTimeout(()=>{throw l},0)}function R(){var l=ge;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ge{constructor(){this.h=this.g=null}add(d,y){const E=ht.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var ht=new W(()=>new ft,l=>l.reset());class ft{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ne=!1,ge=new Ge,oe=()=>{const l=m.Promise.resolve(void 0);Oe=()=>{l.then(O)}};var O=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(y){V(y)}var d=ht;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ne=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ie(l,d){if(de.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(fe){e:{try{Z(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,de);var ke={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function $e(l,d,y,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,d,y,E,M){var q=l.toString();l=this.g[q],l||(l=this.g[q]=[],this.h++);var re=Ir(l,d,E,M);return-1<re?(d=l[re],y||(d.fa=!1)):(d=new $e(d,this.src,q,!!E,M),d.fa=y,l.push(d)),d};function Ki(l,d){var y=d.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,d,void 0),q;(q=0<=M)&&Array.prototype.splice.call(E,M,1),q&&(Et(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ir(l,d,y,E){for(var M=0;M<l.length;++M){var q=l[M];if(!q.da&&q.listener==d&&q.capture==!!y&&q.ha==E)return M}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),Qi={};function ao(l,d,y,E,M){if(Array.isArray(d)){for(var q=0;q<d.length;q++)ao(l,d[q],y,E,M);return null}return y=co(y),l&&l[be]?l.K(d,y,v(E)?!!E.capture:!1,M):lo(l,d,y,!1,E,M)}function lo(l,d,y,E,M,q){if(!d)throw Error("Invalid event type");var re=v(M)?!!M.capture:!!M,ze=Xi(l);if(ze||(l[ci]=ze=new er(l)),y=ze.add(d,y,E,re,q),y.proxy)return y;if(E=Da(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Se||(M=re),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(nr(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Da(){function l(y){return d.call(l.src,l.listener,y)}const d=uo;return l}function Gi(l,d,y,E,M){if(Array.isArray(d))for(var q=0;q<d.length;q++)Gi(l,d[q],y,E,M);else E=v(E)?!!E.capture:!!E,y=co(y),l&&l[be]?(l=l.i,d=String(d).toString(),d in l.g&&(q=l.g[d],y=Ir(q,y,E,M),-1<y&&(Et(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete l.g[d],l.h--)))):l&&(l=Xi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Ir(d,y,E,M)),(y=-1<l?d[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[be])Ki(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(nr(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=Xi(d))?(Ki(y,l),y.h==0&&(y.src=null,d[ci]=null)):Et(l)}}}function nr(l){return l in Qi?Qi[l]:Qi[l]="on"+l}function uo(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&tr(l),l=y.call(E,d)}return l}function Xi(l){return l=l[ci],l instanceof er?l:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(l){return typeof l=="function"?l:(l[Yi]||(l[Yi]=function(d){return l.handleEvent(d)}),l[Yi])}function dt(){Q.call(this),this.i=new er(this),this.M=this,this.F=null}L(dt,Q),dt.prototype[be]=!0,dt.prototype.removeEventListener=function(l,d,y,E){Gi(this,l,d,y,E)};function pt(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new de(d,l);else if(d instanceof de)d.target=d.target||l;else{var M=d;d=new de(E,l),P(d,M)}if(M=!0,y)for(var q=y.length-1;0<=q;q--){var re=d.g=y[q];M=rr(re,E,!0,d)&&M}if(re=d.g=l,M=rr(re,E,!0,d)&&M,M=rr(re,E,!1,d)&&M,y)for(q=0;q<y.length;q++)re=d.g=y[q],M=rr(re,E,!1,d)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)Et(y[E]);delete l.g[d],l.h--}}this.F=null},dt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},dt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function rr(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,q=0;q<d.length;++q){var re=d[q];if(re&&!re.da&&re.capture==y){var ze=re.listener,mt=re.ha||re.src;re.fa&&Ki(l.i,re),M=ze.call(mt,E)!==!1&&M}}return M&&!E.defaultPrevented}function ho(l,d,y){if(typeof l=="function")y&&(l=S(l,y));else if(l&&typeof l.handleEvent=="function")l=S(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Cr(l){l.g=ho(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class hi extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(l){Q.call(this),this.h=l,this.g={}}L(fi,Q);var fo=[];function po(l){pe(l.g,function(d,y){this.g.hasOwnProperty(y)&&tr(d)},l),l.g={}}fi.prototype.N=function(){fi.aa.N.call(this),po(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mo=m.JSON.stringify,go=m.JSON.parse,yo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function di(){}di.prototype.h=null;function Ji(l){return l.h||(l.h=l.i())}function Zi(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ln(){de.call(this,"d")}L(Ln,de);function es(){de.call(this,"c")}L(es,de);var On={},vo=null;function pi(){return vo=vo||new dt}On.La="serverreachability";function _o(l){de.call(this,On.La,l)}L(_o,de);function ir(l){const d=pi();pt(d,new _o(d))}On.STAT_EVENT="statevent";function Eo(l,d){de.call(this,On.STAT_EVENT,l),this.stat=d}L(Eo,de);function nt(l){const d=pi();pt(d,new Eo(d,l))}On.Ma="timingevent";function ts(l,d){de.call(this,On.Ma,l),this.size=d}L(ts,de);function _n(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function gi(l,d,y,E,M,q){l.info(function(){if(l.g)if(q)for(var re="",ze=q.split("&"),mt=0;mt<ze.length;mt++){var Pe=ze[mt].split("=");if(1<Pe.length){var wt=Pe[0];Pe=Pe[1];var ot=wt.split("_");re=2<=ot.length&&ot[1]=="type"?re+(wt+"="+Pe+"&"):re+(wt+"=redacted&")}}else re=null;else re=q;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+y+`
`+re})}function ns(l,d,y,E,M,q,re){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+y+`
`+q+" "+re})}function En(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Mu(l,y)+(E?" "+E:"")})}function wo(l,d){l.info(function(){return"TIMEOUT: "+d})}mi.prototype.info=function(){};function Mu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var q=M[0];if(q!="noop"&&q!="stop"&&q!="close")for(var re=1;re<M.length;re++)M[re]=""}}}}return mo(y)}catch{return d}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Na={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function yi(){}L(yi,di),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},wn=new yi;function Tn(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Va}function Va(){this.i=null,this.g="",this.h=!1}var To={},is={};function ss(l,d,y){l.L=1,l.v=xr(tn(d)),l.m=y,l.P=!0,So(l,null)}function So(l,d){l.F=Date.now(),je(l),l.A=tn(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Nr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Va,l.g=Ya(l.j,y?d:null,!l.m),0<l.O&&(l.M=new hi(S(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(fo[0]=M.toString()),M=fo);for(var q=0;q<M.length;q++){var re=ao(y,M[q],E||d.handleEvent,!1,d.h||d);if(!re)break;d.g[re.key]=re}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ir(),gi(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Wt(l)==3?d.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const ot=Wt(this.g);var d=this.g.Ba();const hn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||ot!=4||d==7||(d==8||0>=hn?ir(3):ir(2)),vi(this);var y=this.g.Z();this.X=y;t:if(La(this)){var E=Po(this.g);l="";var M=E.length,q=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Ar(this);var re="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(q&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,ns(this.i,this.u,this.A,this.l,this.R,ot,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,mt=this.g;if((ze=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(ze)){var Pe=ze;break t}}Pe=null}if(y=Pe)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,y);else{this.o=!1,this.s=3,nt(12),un(this),Ar(this);break e}}if(this.P){y=!0;let rn;for(;!this.J&&this.C<re.length;)if(rn=bu(this,re),rn==is){ot==4&&(this.s=4,nt(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==To){this.s=4,nt(15),En(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,rn,null),Io(this,rn);if(La(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||re.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,re,"[Invalid Chunked Response]"),un(this),Ar(this);else if(0<re.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Do(wt),wt.M=!0,nt(11))}}else En(this.i,this.l,re,null),Io(this,re);ot==4&&un(this),this.o&&!this.J&&(ot==4?gs(this.j,this):(this.o=!1,je(this)))}else hs(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),un(this),Ar(this)}}}catch{}finally{}};function La(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?is:(y=Number(d.substring(y,E)),isNaN(y)?To:(E+=1,E+y>d.length?is:(d=d.slice(E,E+y),l.C=E+y,d)))}Tn.prototype.cancel=function(){this.J=!0,un(this)};function je(l){l.S=Date.now()+l.I,Oa(l,l.I)}function Oa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(S(l.ba,l),d)}function vi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(wo(this.i,this.A),this.L!=2&&(ir(),nt(17)),un(this),this.s=2,Ar(this)):Oa(this,this.S-l)};function Ar(l){l.j.G==0||l.J||gs(l.j,l)}function un(l){vi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,po(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Io(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||zt(y.h,l))){if(!l.K&&zt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ms(y),Rn(y);else break e;ps(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=_n(S(y.Za,y),6e3));if(1>=ba(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&ms(y),!H(d))for(M=y.Da.g.parse(d),d=0;d<M.length;d++){let Pe=M[d];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const wt=Pe[3];wt!=null&&(y.la=wt,y.j.info("VER="+y.la));const ot=Pe[4];ot!=null&&(y.Aa=ot,y.j.info("SVER="+y.Aa));const hn=Pe[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const rn=l.g;if(rn){const Ci=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var q=E.h;q.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Co(q,q.h),q.h=null))}if(E.D){const vs=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(E.ya=vs,Ue(E.I,E.D,vs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=l;if(E.qa=Xa(E,E.J?E.ia:null,E.W),re.K){Fa(E.h,re);var ze=re,mt=E.L;mt&&(ze.I=mt),ze.B&&(vi(ze),je(ze)),E.g=re}else Ii(E);0<y.i.length&&zn(y)}else Pe[0]!="stop"&&Pe[0]!="close"||ur(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?ur(y,7):Rt(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}ir(4)}catch{}}var Ma=class{constructor(l,d){this.g=l,this.map=d}};function _i(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function en(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ba(l){return l.h?1:l.g?l.g.size:0}function zt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Co(l,d){l.g?l.g.add(d):l.h=d}function Fa(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}_i.prototype.cancel=function(){if(this.i=za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function za(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return B(l.i)}function os(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function as(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Rr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=as(l),E=os(l),M=E.length,q=0;q<M;q++)d.call(void 0,E[q],y&&y[q],l)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var q=l[y].substring(0,E);M=l[y].substring(E+1)}else q=l[y];d(q,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,wi(this,l.j),this.o=l.o,this.g=l.g,kr(this,l.s),this.l=l.l;var d=l.i,y=new Mn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Pr(this,y),this.m=l.m}else l&&(d=String(l).match(Ei))?(this.h=!1,wi(this,d[1]||"",!0),this.o=Re(d[2]||""),this.g=Re(d[3]||"",!0),kr(this,d[4]),this.l=Re(d[5]||"",!0),Pr(this,d[6]||"",!0),this.m=Re(d[7]||"")):(this.h=!1,this.i=new Mn(null,this.h))}sr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Dr(d,ls,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Dr(d,ls,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Dr(y,y.charAt(0)=="/"?$a:Ba,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Dr(y,Ao)),l.join("")};function tn(l){return new sr(l)}function wi(l,d,y){l.j=y?Re(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function kr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Pr(l,d,y){d instanceof Mn?(l.i=d,bn(l.i,l.h)):(y||(d=Dr(d,ja)),l.i=new Mn(d,l.h))}function Ue(l,d,y){l.i.set(d,y)}function xr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Re(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Dr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Ua),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ua(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ls=/[#\/\?@]/g,Ba=/[#\?:]/g,$a=/[#\?]/g,ja=/[#\?@]/g,Ao=/#/g;function Mn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function At(l){l.g||(l.g=new Map,l.h=0,l.i&&Fu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Mn.prototype,i.add=function(l,d){At(this),this.i=null,l=cn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Sn(l,d){At(l),d=cn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return At(l),d=cn(l,d),l.g.has(d)}i.forEach=function(l,d){At(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){At(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const M=l[E];for(let q=0;q<M.length;q++)y.push(d[E])}return y},i.V=function(l){At(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return At(this),this.i=null,l=cn(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Nr(l,d,y){Sn(l,d),0<y.length&&(l.i=null,l.g.set(cn(l,d),B(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const q=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var M=q;re[E]!==""&&(M+="="+encodeURIComponent(String(re[E]))),l.push(M)}}return this.i=l.join("&")};function cn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function bn(l,d){d&&!l.j&&(At(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(Sn(this,E),Nr(this,M,y))},l)),l.j=d}function zu(l,d){const y=new mi;if(m.Image){const E=new Image;E.onload=z(qt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=z(qt,y,"TestLoadImage: error",!1,d,E),E.onabort=z(qt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=z(qt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Ha(l,d){const y=new mi,E=new AbortController,M=setTimeout(()=>{E.abort(),qt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(q=>{clearTimeout(M),q.ok?qt(y,"TestPingServer: ok",!0,d):qt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),qt(y,"TestPingServer: error",!1,d)})}function qt(l,d,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function Uu(){this.g=new yo}function qa(l,d,y){const E=y||"";try{Rr(l,function(M,q){let re=M;v(M)&&(re=mo(M)),d.push(E+q+"="+encodeURIComponent(re))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}L(or,di),or.prototype.g=function(){return new Ti(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function Ti(l,d){dt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ti,dt),i=Ti.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Cn(this):An(this),this.readyState==3&&Wa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},i.Qa=function(l){this.g&&(this.response=l,Cn(this))},i.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let d="";return pe(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function Vr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ue(l,d,y))}function Ke(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ke,dt);var Bu=/^https?$/i,Ro=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Ji(this.o):Ji(wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(q){Si(this,q);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())y.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ro,d,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of y)this.g.setRequestHeader(q,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(l),this.u=!1}catch(q){Si(this,q)}};function Si(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,us(l),nn(l)}function us(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),nn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},i.bb=function(){ko(this)};function ko(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Wt(l)!=4||l.Z()!=2)){if(l.u&&Wt(l)==4)ho(l.Ea,0,l);else if(pt(l,"readystatechange"),Wt(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=re===0){var M=String(l.D).match(Ei)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Bu.test(M?M.toLowerCase():"")}y=E}if(y)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var q=2<Wt(l)?l.g.statusText:""}catch{q=""}l.l=q+" ["+l.Z()+"]",us(l)}}finally{nn(l)}}}}function nn(l,d){if(l.g){cs(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||pt(l,"ready");try{y.onreadystatechange=E}catch{}}}function cs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Wt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),go(d)}};function Po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(l){const d={};l=(l.g&&2<=Wt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(H(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=d[M]||[];d[M]=q,q.push(y)}k(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function xo(l){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new _i(l&&l.concurrentRequestLimit),this.Da=new Uu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Xa(this,null,this.W),zn(this)};function Rt(l){if(fs(l),l.G==3){var d=l.U++,y=tn(l.I);if(Ue(y,"SID",l.K),Ue(y,"RID",d),Ue(y,"TYPE","terminate"),lr(l,y),d=new Tn(l,l.j,d),d.L=2,d.v=xr(tn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Ya(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Ga(l)}function Rn(l){l.g&&(Do(l),l.g.cancel(),l.g=null)}function fs(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ms(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function zn(l){if(!en(l.h)&&!l.s){l.s=!0;var d=l.Ga;Oe||oe(),ne||(Oe(),ne=!0),ge.add(d,l),l.B=0}}function $u(l,d){return ba(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(S(l.Ga,l,d),Qa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Tn(this,this.j,l);let q=this.o;if(this.S&&(q?(q=T(q),P(q,this.S)):q=this.S),this.m!==null||this.O||(M.H=q,q=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Lr(this,M,d),y=tn(this.I),Ue(y,"RID",l),Ue(y,"CVER",22),this.D&&Ue(y,"X-HTTP-Session-Id",this.D),lr(this,y),q&&(this.O?d="headers="+encodeURIComponent(String(ar(q)))+"&"+d:this.m&&Vr(y,this.m,q)),Co(this.h,M),this.Ua&&Ue(y,"TYPE","init"),this.P?(Ue(y,"$req",d),Ue(y,"SID","null"),M.T=!0,ss(M,y,null)):ss(M,y,d),this.G=2}}else this.G==3&&(l?ds(this,l):this.i.length==0||en(this.h)||ds(this))};function ds(l,d){var y;d?y=d.l:y=l.U++;const E=tn(l.I);Ue(E,"SID",l.K),Ue(E,"RID",y),Ue(E,"AID",l.T),lr(l,E),l.m&&l.o&&Vr(E,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Lr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Co(l.h,y),ss(y,E,d)}function lr(l,d){l.H&&pe(l.H,function(y,E){Ue(d,E,y)}),l.l&&Rr({},function(y,E){Ue(d,E,y)})}function Lr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?S(l.l.Na,l.l,l):null;e:{var M=l.i;let q=-1;for(;;){const re=["count="+y];q==-1?0<y?(q=M[0].g,re.push("ofs="+q)):q=0:re.push("ofs="+q);let ze=!0;for(let mt=0;mt<y;mt++){let Pe=M[mt].g;const wt=M[mt].map;if(Pe-=q,0>Pe)q=Math.max(0,M[mt].g-100),ze=!1;else try{qa(wt,re,"req"+Pe+"_")}catch{E&&E(wt)}}if(ze){E=re.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function Ii(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Oe||oe(),ne||(Oe(),ne=!0),ge.add(d,l),l.v=0}}function ps(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(S(l.Fa,l),Qa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ka(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(S(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Ka(this))};function Do(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ka(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=tn(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),lr(l,d),l.m&&l.o&&Vr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=xr(tn(d)),y.m=null,y.P=!0,So(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),ps(this),nt(19))};function ms(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function gs(l,d){var y=null;if(l.g==d){ms(l),Do(l),l.g=null;var E=2}else if(zt(l.h,d))y=d.D,Fa(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=pi(),pt(E,new ts(E,y)),zn(l)}else Ii(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&$u(l,d)||E==2&&ps(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),M){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Qa(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ur(l,d){if(l.j.info("Error code "+d),d==2){var y=S(l.fb,l),E=l.Xa;const M=!E;E=new sr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wi(E,"https"),xr(E),M?zu(E.toString(),y):Ha(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),Ga(l),fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ga(l){if(l.G=0,l.ka=[],l.l){const d=za(l.h);(d.length!=0||l.i.length!=0)&&(F(l.ka,d),F(l.ka,l.i),l.h.i.length=0,B(l.i),l.i.length=0),l.l.ra()}}function Xa(l,d,y){var E=y instanceof sr?tn(y):new sr(y);if(E.g!="")d&&(E.g=d+"."+E.g),kr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var q=new sr(null);E&&wi(q,E),d&&(q.g=d),M&&kr(q,M),y&&(q.l=y),E=q}return y=l.D,d=l.ya,y&&d&&Ue(E,y,d),Ue(E,"VER",l.la),lr(l,E),E}function Ya(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ke(new or({eb:y})):new Ke(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}i=No.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ys(){}ys.prototype.g=function(l,d){return new Ut(l,d)};function Ut(l,d){dt.call(this),this.g=new xo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!H(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}L(Ut,dt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Rt(this.g)},Ut.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=mo(l),l=y);d.i.push(new Ma(d.Ya++,l)),d.G==3&&zn(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Rt(this.g),delete this.g,Ut.aa.N.call(this)};function Ja(l){Ln.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}L(Ja,Ln);function Za(){es.call(this),this.status=1}L(Za,es);function Un(l){this.g=l}L(Un,No),Un.prototype.ua=function(){pt(this.g,"a")},Un.prototype.ta=function(l){pt(this.g,new Ja(l))},Un.prototype.sa=function(l){pt(this.g,new Za)},Un.prototype.ra=function(){pt(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Gg=function(){return new ys},Qg=function(){return pi()},Kg=On,Lh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,nu=rs,Na.COMPLETE="complete",Wg=Na,Zi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",dt.prototype.listen=dt.prototype.K,sa=Zi,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,qg=Ke}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});const um="@firebase/firestore",cm="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Fg("@firebase/firestore");function zs(){return Hi.logLevel}function ae(i,...e){if(Hi.logLevel<=De.DEBUG){const n=e.map(uf);Hi.debug(`Firestore (${io}): ${i}`,...n)}}function Sr(i,...e){if(Hi.logLevel<=De.ERROR){const n=e.map(uf);Hi.error(`Firestore (${io}): ${i}`,...n)}}function ri(i,...e){if(Hi.logLevel<=De.WARN){const n=e.map(uf);Hi.warn(`Firestore (${io}): ${i}`,...n)}}function uf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Xg(i,s,n)}function Xg(i,e,n){let s=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Sr(s),new Error(s)}function et(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||Xg(e,a,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class sw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ow{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Bi,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Bi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new Yg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class aw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lw{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=cw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function Oh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Ae(s,a);{const c=Jg(),h=hw(c.encode(fm(i,n)),c.encode(fm(e,n)));return h!==0?h:Ae(s,a)}}n+=s>65535?2:1}return Ae(i.length,e.length)}function fm(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function hw(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ae(i[n],e[n]);return Ae(i.length,e.length)}function Gs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="__name__";class qn{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return qn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=qn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ae(e.length,n.length)}static compareSegments(e,n){const s=qn.isNumericId(e),a=qn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?qn.extractNumericId(e).compare(qn.extractNumericId(n)):Oh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class Je extends qn{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends qn{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return fw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dm}static keyField(){return new jt([dm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}function dw(i,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function pm(i){if(_e.isDocumentKey(i))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function pw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function mw(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Mh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mw(i);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function Aa(i,e){if(!pw(i))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(a&&typeof h!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=-62135596800,gm=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gm);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mm)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gm}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Aa(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:ct("string",ut._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=-1;function gw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=we.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new ii(a,_e.empty(),e)}function yw(i){return new ii(i.readTime,i.key,ya)}class ii{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ii(we.min(),_e.empty(),ya)}static max(){return new ii(we.max(),_e.empty(),ya)}}function vw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==_w)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,s)=>{n(e)})}static reject(e){return new G((n,s)=>{s(e)})}static waitFor(e){return new G((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=G.resolve(!1);for(const s of e)n=n.next(a=>a?G.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new G((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===c&&s(h)},w=>a(w))}})}static doWhile(e,n){return new G((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function ww(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=-1;function Au(i){return i==null}function bh(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="";function Sw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ym(e)),e=Iw(i.get(n),e);return ym(e)}function Iw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case ey:n+="";break;default:n+=c}}return n}function ym(i){return i+ey+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ra(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Cw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gl(this.root,e,this.comparator,!0)}}class Gl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??xt.RED,this.left=a??xt.EMPTY,this.right=c??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new xt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return xt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _m(this.data.getIterator())}getIteratorFrom(e){return new _m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class _m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new _t(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ty("Invalid base64 string: "+c):c}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(i){if(et(!!i,39018),typeof i=="string"){let e=0;const n=Aw.exec(i);if(et(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function oi(i){return typeof i=="string"?Dt.fromBase64String(i):Dt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="server_timestamp",ry="__type__",iy="__previous_value__",sy="__local_write_time__";function cf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ry])===null||n===void 0?void 0:n.stringValue)===ny}function Ru(i){const e=i.mapValue.fields[iy];return cf(e)?Ru(e):e}function va(i){const e=si(i.mapValue.fields[sy].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,s,a,c,h,m,g,v,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=w}}const fu="(default)";class _a{constructor(e,n){this.projectId=e,this.database=n||fu}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===fu}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="__type__",Pw="__max__",Xl={mapValue:{}},xw="__vector__",Fh="value";function ai(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cf(i)?4:Nw(i)?9007199254740991:Dw(i)?10:11:Te(28295,{value:i})}function Xn(i,e){if(i===e)return!0;const n=ai(i);if(n!==ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return va(i).isEqual(va(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=si(a.timestampValue),m=si(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return oi(a.bytesValue).isEqual(oi(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=it(a.doubleValue),m=it(c.doubleValue);return h===m?bh(h)===bh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Gs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(vm(h)!==vm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xn(h[g],m[g])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function Ea(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function Xs(i,e){if(i===e)return 0;const n=ai(i),s=ai(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=it(c.integerValue||c.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Em(i.timestampValue,e.timestampValue);case 4:return Em(va(i),va(e));case 5:return Oh(i.stringValue,e.stringValue);case 6:return function(c,h){const m=oi(c),g=oi(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=Ae(m[v],g[v]);if(w!==0)return w}return Ae(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Ae(it(c.latitude),it(h.latitude));return m!==0?m:Ae(it(c.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return wm(i.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,v,w;const A=c.fields||{},S=h.fields||{},z=(m=A[Fh])===null||m===void 0?void 0:m.arrayValue,L=(g=S[Fh])===null||g===void 0?void 0:g.arrayValue,B=Ae(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((w=L==null?void 0:L.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:wm(z,L)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===Xl.mapValue&&h===Xl.mapValue)return 0;if(c===Xl.mapValue)return 1;if(h===Xl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const S=Oh(g[A],w[A]);if(S!==0)return S;const z=Xs(m[g[A]],v[w[A]]);if(z!==0)return z}return Ae(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{le:n})}}function Em(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=si(i),s=si(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function wm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Xs(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function Ys(i){return zh(i)}function zh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=si(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return oi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=zh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${zh(n.fields[h])}`;return a+"}"}(i.mapValue):Te(61005,{value:i})}function ru(i){switch(ai(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ru(i);return e?16+ru(e):16;case 5:return 2*i.stringValue.length;case 6:return oi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+ru(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ra(s.fields,(c,h)=>{a+=c.length+ru(h)}),a}(i.mapValue);default:throw Te(13486,{value:i})}}function Uh(i){return!!i&&"integerValue"in i}function hf(i){return!!i&&"arrayValue"in i}function Tm(i){return!!i&&"nullValue"in i}function Sm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function Dw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[kw])===null||n===void 0?void 0:n.stringValue)===xw}function ua(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ra(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ua(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Nw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Pw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=jt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=ua(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];vh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ra(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Wn(ua(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,we.min(),we.min(),we.min(),Wn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,we.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,we.min(),we.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,we.min(),we.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.position=e,this.inclusive=n}}function Im(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=Xs(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Cm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{}class vt extends oy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ow(e,n,s):n==="array-contains"?new Fw(e,s):n==="in"?new zw(e,s):n==="not-in"?new Uw(e,s):n==="array-contains-any"?new Bw(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Mw(e,s):new bw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xs(n,this.value)):n!==null&&ai(this.value)===ai(n)&&this.matchesComparison(Xs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends oy{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Yn(e,n)}matches(e){return ay(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ay(i){return i.op==="and"}function ly(i){return Lw(i)&&ay(i)}function Lw(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Bh(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+Ys(i.value);if(ly(i))return i.filters.map(e=>Bh(e)).join(",");{const e=i.filters.map(n=>Bh(n)).join(",");return`${i.op}(${e})`}}function uy(i,e){return i instanceof vt?function(s,a){return a instanceof vt&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof Yn?function(s,a){return a instanceof Yn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&uy(h,a.filters[m]),!0):!1}(i,e):void Te(19439)}function cy(i){return i instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ys(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(cy).join(" ,")+"}"}(i):"Filter"}class Ow extends vt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mw extends vt{constructor(e,n){super(e,"in",n),this.keys=hy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bw extends vt{constructor(e,n){super(e,"not-in",n),this.keys=hy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hy(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class Fw extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&Ea(n.arrayValue,this.value)}}class zw extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class Uw extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class Bw extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ea(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Pe=null}}function Am(i,e=null,n=[],s=[],a=null,c=null,h=null){return new $w(i,e,n,s,a,c,h)}function ff(i){const e=Ne(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Bh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ys(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ys(s)).join(",")),e.Pe=n}return e.Pe}function df(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Vw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uy(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Cm(i.startAt,e.startAt)&&Cm(i.endAt,e.endAt)}function $h(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function jw(i,e,n,s,a,c,h,m){return new ku(i,e,n,s,a,c,h,m)}function fy(i){return new ku(i)}function Rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Hw(i){return i.collectionGroup!==null}function ca(i){const e=Ne(i);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new _t(jt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new pu(c,s))}),n.has(jt.keyField().canonicalString())||e.Te.push(new pu(jt.keyField(),s))}return e.Te}function Qn(i){const e=Ne(i);return e.Ie||(e.Ie=qw(e,ca(i))),e.Ie}function qw(i,e){if(i.limitType==="F")return Am(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new pu(a.field,c)});const n=i.endAt?new du(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new du(i.startAt.position,i.startAt.inclusive):null;return Am(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function jh(i,e,n){return new ku(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Pu(i,e){return df(Qn(i),Qn(e))&&i.limitType===e.limitType}function dy(i){return`${ff(Qn(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>cy(a)).join(", ")}]`),Au(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ys(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ys(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function xu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ca(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=Im(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,ca(s),a)||s.endAt&&!function(h,m,g){const v=Im(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,ca(s),a))}(i,e)}function Ww(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function py(i){return(e,n)=>{let s=!1;for(const a of ca(i)){const c=Kw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Kw(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),v=m.data.field(c);return g!==null&&v!==null?Xs(g,v):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Cw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new st(_e.comparator);function li(){return Qw}const my=new st(_e.comparator);function oa(...i){let e=my;for(const n of i)e=e.insert(n.key,n);return e}function Gw(i){let e=my;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zi(){return ha()}function gy(){return ha()}function ha(){return new Wi(i=>i.toString(),(i,e)=>i.isEqual(e))}const Xw=new _t(_e.comparator);function Le(...i){let e=Xw;for(const n of i)e=e.add(n);return e}const Yw=new _t(Ae);function Jw(){return Yw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function eT(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function tT(i,e,n){return i instanceof Hh?function(a,c){const h={fields:{[ry]:{stringValue:ny},[sy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&cf(c)&&(c=Ru(c)),c&&(h.fields[iy]=c),{mapValue:h}}(n,e):i instanceof mu?yy(i,e):i instanceof gu?vy(i,e):function(a,c){const h=rT(a,c),m=km(h)+km(a.Ee);return Uh(h)&&Uh(a.Ee)?eT(m):Zw(a.serializer,m)}(i,e)}function nT(i,e,n){return i instanceof mu?yy(i,e):i instanceof gu?vy(i,e):n}function rT(i,e){return i instanceof qh?function(s){return Uh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Hh extends Du{}class mu extends Du{constructor(e){super(),this.elements=e}}function yy(i,e){const n=_y(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class gu extends Du{constructor(e){super(),this.elements=e}}function vy(i,e){let n=_y(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class qh extends Du{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function km(i){return it(i.integerValue||i.doubleValue)}function _y(i){return hf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function iT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof mu&&a instanceof mu||s instanceof gu&&a instanceof gu?Gs(s.elements,a.elements,Xn):s instanceof qh&&a instanceof qh?Xn(s.Ee,a.Ee):s instanceof Hh&&a instanceof Hh}(i.transform,e.transform)}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class pf{}function Ey(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new oT(i.key,$i.none()):new mf(i.key,i.data,$i.none());{const n=i.data,s=Wn.empty();let a=new _t(jt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Nu(i.key,s,new Xr(a.toArray()),$i.none())}}function sT(i,e,n){i instanceof mf?function(a,c,h){const m=a.value.clone(),g=xm(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Nu?function(a,c,h){if(!iu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=xm(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(wy(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function fa(i,e,n,s){return i instanceof mf?function(c,h,m,g){if(!iu(c.precondition,h))return m;const v=c.value.clone(),w=Dm(c.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Nu?function(c,h,m,g){if(!iu(c.precondition,h))return m;const v=Dm(c.fieldTransforms,g,h),w=h.data;return w.setAll(wy(c)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(c,h,m){return iu(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function Pm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Gs(s,a,(c,h)=>iT(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class mf extends pf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Nu extends pf{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wy(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function xm(i,e,n){const s=new Map;et(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,nT(h,m,n[a]))}return s}function Dm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,tT(c,h,e))}return s}class oT extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&sT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gy();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=Ey(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,s)=>Pm(n,s))&&Gs(this.baseMutations,e.baseMutations,(n,s)=>Pm(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,xe;function Ty(i){if(i===void 0)return Sr("GRPC error has no .code"),ie.UNKNOWN;switch(i){case lt.OK:return ie.OK;case lt.CANCELLED:return ie.CANCELLED;case lt.UNKNOWN:return ie.UNKNOWN;case lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case lt.INTERNAL:return ie.INTERNAL;case lt.UNAVAILABLE:return ie.UNAVAILABLE;case lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case lt.NOT_FOUND:return ie.NOT_FOUND;case lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case lt.ABORTED:return ie.ABORTED;case lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case lt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:i})}}(xe=lt||(lt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new ei([4294967295,4294967295],0);function Nm(i){const e=Jg().encode(i),n=new Hg;return n.update(e),new Uint8Array(n.digest())}function Vm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ei([n,s],0),new ei([a,c],0)]}class gf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new aa(`Invalid padding: ${n}`);if(s<0)throw new aa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new aa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new aa(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ei.fromNumber(this.fe)}pe(e,n,s){let a=e.add(n.multiply(ei.fromNumber(s)));return a.compare(cT)===1&&(a=new ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=Nm(e),[s,a]=Vm(n);for(let c=0;c<this.hashCount;c++){const h=this.pe(s,a,c);if(!this.ye(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new gf(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=Nm(e),[s,a]=Vm(n);for(let c=0;c<this.hashCount;c++){const h=this.pe(s,a,c);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ka.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vu(we.min(),a,new st(Ae),li(),Le())}}class ka{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ka(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=a}}class Sy{constructor(e,n){this.targetId=e,this.De=n}}class Iy{constructor(e,n,s=Dt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Lm{constructor(){this.ve=0,this.Ce=Om(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),n=Le(),s=Le();return this.Ce.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:c})}}),new ka(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=Om()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hT{constructor(e){this.We=e,this.Ge=new Map,this.ze=li(),this.je=Yl(),this.Je=Yl(),this.He=new st(Ae)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,a)=>{this.nt(a)&&n(a)})}it(e){const n=e.targetId,s=e.De.count,a=this.st(n);if(a){const c=a.target;if($h(c))if(s===0){const h=new _e(c.path);this.Xe(n,h,Ft.newNoDocument(h,we.min()))}else et(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,v)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=oi(s).toUint8Array()}catch(g){if(g instanceof ty)return ri("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new gf(h,a,c)}catch(g){return ri(g instanceof aa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,c,null),a++)}),a}Pt(e){const n=new Map;this.Ge.forEach((c,h)=>{const m=this.st(h);if(m){if(c.current&&$h(m.target)){const g=new _e(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Ft.newNoDocument(g,e))}c.Ne&&(n.set(h,c.Le()),c.ke())}});let s=Le();this.Je.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.st(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ze.forEach((c,h)=>h.setReadTime(e));const a=new Vu(e,n,this.He,this.ze,s);return this.ze=li(),this.je=Yl(),this.Je=Yl(),this.He=new st(Ae),a}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Lm,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new _t(Ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new _t(Ae),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Lm),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new st(_e.comparator)}function Om(){return new st(_e.comparator)}const fT={asc:"ASCENDING",desc:"DESCENDING"},dT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pT={and:"AND",or:"OR"};class mT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wh(i,e){return i.useProto3Json||Au(e)?e:{value:e}}function gT(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Hs(i){return et(!!i,49232),we.fromTimestamp(function(n){const s=si(n);return new ut(s.seconds,s.nanos)}(i))}function vT(i,e){return Kh(i,e).canonicalString()}function Kh(i,e){const n=function(a){return new Je(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cy(i){const e=Je.fromString(i);return et(xy(e),10190,{key:e.toString()}),e}function _h(i,e){const n=Cy(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(Ry(n))}function Ay(i,e){return vT(i.databaseId,e)}function _T(i){const e=Cy(i);return e.length===4?Je.emptyPath():Ry(e)}function Mm(i){return new Je(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ry(i){return et(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ET(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Te(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(et(w===void 0||typeof w=="string",58123),Dt.fromBase64String(w||"")):(et(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Dt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?ie.UNKNOWN:Ty(v.code);return new me(w,v.message||"")}(h);n=new Iy(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_h(i,s.document.name),c=Hs(s.document.updateTime),h=s.document.createTime?Hs(s.document.createTime):we.min(),m=new Wn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new su(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_h(i,s.document),c=s.readTime?Hs(s.readTime):we.min(),h=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new su([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_h(i,s.document),c=s.removedTargetIds||[];n=new su([],c,a,null)}else{if(!("filter"in e))return Te(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new uT(a,c),m=s.targetId;n=new Sy(m,h)}}return n}function wT(i,e){return{documents:[Ay(i,e.path)]}}function TT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ay(i,a);const c=function(v){if(v.length!==0)return Py(Yn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(w=>function(S){return{field:Bs(S.field),direction:CT(S.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Wh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{Vt:n,parent:a}}function ST(i){let e=_T(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){et(s===1,65062);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(A){const S=ky(A);return S instanceof Yn&&ly(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(A){return A.map(S=>function(L){return new pu($s(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Au(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(A){const S=!!A.before,z=A.values||[];return new du(z,S)}(n.startAt));let v=null;return n.endAt&&(v=function(A){const S=!A.before,z=A.values||[];return new du(z,S)}(n.endAt)),jw(e,a,h,c,m,"F",g,v)}function IT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ky(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$s(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$s(n.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$s(n.unaryFilter.field);return vt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=$s(n.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return vt.create($s(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>ky(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function CT(i){return fT[i]}function AT(i){return dT[i]}function RT(i){return pT[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function $s(i){return jt.fromServerFormat(i.fieldPath)}function Py(i){return i instanceof vt?function(n){if(n.op==="=="){if(Sm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(Tm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(Tm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:AT(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const s=n.getFilters().map(a=>Py(a));return s.length===1?s[0]:{compositeFilter:{op:RT(n.op),filters:s}}}(i):Te(54877,{filter:i})}function xy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s,a,c=we.min(),h=we.min(),m=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.gt=e}}function PT(i){const e=ST({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.Dn=new DT}addToCollectionParentIndex(e,n){return this.Dn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(ii.min())}updateCollectionGroup(e,n,s){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class DT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new _t(Je.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new _t(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dy=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(Dy,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Js(0)}static ur(){return new Js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="LruGarbageCollector",NT=1048576;function zm([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class VT{constructor(e){this.Tr=e,this.buffer=new _t(zm),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ae(Fm,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?ae(Fm,"Ignoring IndexedDB error during garbage collection: ",n):await Iu(n)}await this.Rr(3e5)})}}class OT{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return G.resolve(Cu.ue);const s=new VT(n);return this.Vr.forEachTarget(e,a=>s.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>s.Er(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(bm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bm):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,a,c,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,h=Date.now(),this.nthSequenceNumber(e,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(v=Date.now(),zs()<=De.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:A})))}}function MT(i,e){return new OT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?G.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&fa(s.mutation,a,Xr.empty(),ut.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const a=zi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=oa();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=zi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=li();const h=ha(),m=function(){return ha()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof Nu)?c=c.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),fa(w.mutation,v,w.mutation.getFieldMask(),ut.now())):h.set(v.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>{var A;return m.set(v,new FT(w,(A=h.get(v))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ha();let a=new st((h,m)=>h-m),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||Xr.empty();w=m.applyToLocalView(v,w),s.set(g,w);const A=(a.get(m.batchId)||Le()).add(g);a=a.insert(m.batchId,A)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,A=gy();w.forEach(S=>{if(!c.has(S)){const z=Ey(n.get(S),s.get(S));z!==null&&A.set(S,z),c=c.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,A))}return G.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):G.resolve(zi());let m=ya,g=c;return h.next(v=>G.forEach(v,(w,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(w)?G.resolve():this.remoteDocumentCache.getEntry(e,w).next(S=>{g=g.insert(w,S)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,g,v,Le())).next(w=>({batchId:m,changes:Gw(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let a=oa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=oa();return this.indexManager.getCollectionParents(e,c).next(m=>G.forEach(m,g=>{const v=function(A,S){return new ku(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((A,S)=>{h=h.insert(A,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=oa();return h.forEach((g,v)=>{const w=c.get(g);w!==void 0&&fa(w.mutation,v,Xr.empty(),ut.now()),xu(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return G.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hs(a.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:PT(a.bundledQuery),readTime:Hs(a.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.overlays=new st(_e.comparator),this.kr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zi();return G.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.wt(e,n,c)}),G.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),G.resolve()}getOverlaysForCollection(e,n,s){const a=zi(),c=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return G.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new st((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=zi(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=zi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return G.resolve(m)}wt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new lT(n,s));let c=this.kr.get(n);c===void 0&&(c=Le(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.qr=new _t(Ct.Qr),this.$r=new _t(Ct.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Ct(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Ct(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new _e(new Je([])),s=new Ct(n,e),a=new Ct(n,e+1),c=[];return this.$r.forEachInRange([s,a],h=>{this.Wr(h),c.push(h.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new _e(new Je([])),s=new Ct(n,e),a=new Ct(n,e+1);let c=Le();return this.$r.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new Ct(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return _e.comparator(e.key,n.key)||Ae(e.Hr,n.Hr)}static Ur(e,n){return Ae(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new _t(Ct.Qr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new aT(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.Yr=this.Yr.add(new Ct(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return G.resolve(h)}lookupMutationBatch(e,n){return G.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),c=a<0?0:a;return G.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Tw:this.er-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ct(n,0),a=new Ct(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,a],h=>{const m=this.Zr(h.Hr);c.push(m)}),G.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new _t(Ae);return n.forEach(a=>{const c=new Ct(a,0),h=new Ct(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,h],m=>{s=s.add(m.Hr)})}),G.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const h=new Ct(new _e(c),0);let m=new _t(Ae);return this.Yr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Hr)),!0)},h),G.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const a=this.Zr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){et(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return G.forEach(n.mutations,a=>{const c=new Ct(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Ct(n,0),a=this.Yr.firstAfterOrEqual(s);return G.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.ni=e,this.docs=function(){return new st(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return G.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=li();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),G.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=li();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||vw(yw(w),s)<=0||(a.has(w.key)||xu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return G.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ri(e,n){return G.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qT(this)}getSize(e){return G.resolve(this.size)}}class qT extends bT{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)}),G.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.persistence=e,this.ii=new Wi(n=>ff(n),df),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new yf,this.targetCount=0,this._i=Js.ar()}forEachTarget(e,n){return this.ii.forEach((s,a)=>n(a)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),G.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.hr(n),G.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),G.waitFor(c).next(()=>a)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return G.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),G.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),G.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return G.resolve(s)}containsKey(e,n){return G.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.ai={},this.overlays={},this.ui=new Cu(0),this.ci=!1,this.ci=!0,this.li=new $T,this.referenceDelegate=e(this),this.hi=new WT(this),this.indexManager=new xT,this.remoteDocumentCache=function(a){return new HT(a)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new kT(n),this.Ti=new UT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new jT(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new KT(this.ui.next());return this.referenceDelegate.Ii(),s(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ei(e,n){return G.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class KT extends Ew{constructor(e){super(),this.currentSequenceNumber=e}}class vf{constructor(e){this.persistence=e,this.Ai=new yf,this.Ri=null}static Vi(e){return new vf(e)}get mi(){if(this.Ri)return this.Ri;throw Te(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),G.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.mi,s=>{const a=_e.fromPath(s);return this.fi(e,a).next(c=>{c||n.removeEntry(a,we.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return G.or([()=>G.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yu{constructor(e,n){this.persistence=e,this.gi=new Wi(s=>Sw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=MT(this,n)}static Vi(e,n){return new yu(e,n)}Ii(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return G.forEach(this.gi,(s,a)=>this.Sr(e,s,a).next(c=>c?G.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,c.removeEntry(h,we.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ru(e.data.value)),n}Sr(e,n,s){return G.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return G.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=a}static Es(e,n){let s=Le(),a=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new _f(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zE()?8:ww(bE())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ps(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ys(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new QT;return this.ws(e,n,h).next(m=>{if(c.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>c.result)}Ss(e,n,s,a){return s.documentReadCount<this.Vs?(zs()<=De.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(zs()<=De.DEBUG&&ae("QueryEngine","Query:",Us(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(zs()<=De.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):G.resolve())}ps(e,n){if(Rm(n))return G.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=jh(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=Le(...c);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.bs(n,m);return this.Ds(n,v,h,g.readTime)?this.ps(e,jh(n,null,"F")):this.vs(e,v,n,g)}))})))}ys(e,n,s,a){return Rm(n)||a.isEqual(we.min())?G.resolve(null):this.gs.getDocuments(e,s).next(c=>{const h=this.bs(n,c);return this.Ds(n,h,s,a)?G.resolve(null):(zs()<=De.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Us(n)),this.vs(e,h,n,gw(a,ya)).next(m=>m))})}bs(e,n){let s=new _t(py(e));return n.forEach((a,c)=>{xu(e,c)&&(s=s.add(c))}),s}Ds(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ws(e,n,s){return zs()<=De.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Us(n)),this.gs.getDocumentsMatchingQuery(e,n,ii.min(),s)}vs(e,n,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="LocalStore",XT=3e8;class YT{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new st(Ae),this.Ms=new Wi(c=>ff(c),df),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zT(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function JT(i,e,n,s){return new YT(i,e,n,s)}async function Vy(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=Le();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Bs:v,removedBatchIds:h,addedBatchIds:m}))})})}function Ly(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function ZT(i,e){const n=Ne(i),s=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const m=[];e.targetChanges.forEach((w,A)=>{const S=a.get(A);if(!S)return;m.push(n.hi.removeMatchingKeys(c,w.removedDocuments,A).next(()=>n.hi.addMatchingKeys(c,w.addedDocuments,A)));let z=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?z=z.withResumeToken(Dt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):w.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(w.resumeToken,s)),a=a.insert(A,z),function(B,F,W){return B.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=XT?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(S,z,w)&&m.push(n.hi.updateTargetData(c,z))});let g=li(),v=Le();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(eS(c,h,e.documentUpdates).next(w=>{g=w.Ls,v=w.ks})),!s.isEqual(we.min())){const w=n.hi.getLastRemoteSnapshotVersion(c).next(A=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return G.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,v)).next(()=>g)}).then(c=>(n.Fs=a,c))}function eS(i,e,n){let s=Le(),a=Le();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=li();return n.forEach((m,g)=>{const v=c.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ae(Ef,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Ls:h,ks:a}})}function tS(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.hi.getTargetData(s,e).next(c=>c?(a=c,G.resolve(a)):n.hi.allocateTargetId(s).next(h=>(a=new Yr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Qh(i,e,n){const s=Ne(i),a=s.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!so(h))throw h;ae(Ef,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function Um(i,e,n){const s=Ne(i);let a=we.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const A=Ne(g),S=A.Ms.get(w);return S!==void 0?G.resolve(A.Fs.get(S)):A.hi.getTargetData(v,w)}(s,h,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?a:we.min(),n?c:Le())).next(m=>(nS(s,Ww(e),m),{documents:m,qs:c})))}function nS(i,e,n){let s=i.xs.get(e)||we.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.xs.set(e,s)}class Bm{constructor(){this.activeTargetIds=Jw()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rS{constructor(){this.Fo=new Bm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Bm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="ConnectivityMonitor";class jm{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ae($m,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ae($m,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl=null;function Gh(){return Jl===null?Jl=function(){return 268435456+Math.round(2147483648*Math.random())}():Jl++,"0x"+Jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="RestConnection",sS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oS{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===fu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,c){const h=Gh(),m=this.Go(e,n.toUriEncodedString());ae(Eh,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,a,c);const{host:v}=new URL(m),w=af(v);return this.jo(e,m,g,s,w).then(A=>(ae(Eh,`Received RPC '${e}' ${h}: `,A),A),A=>{throw ri(Eh,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,n,s,a,c,h){return this.Wo(e,n,s,a,c)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Go(e,n){const s=sS[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class lS extends oS{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,a,c){const h=Gh();return new Promise((m,g)=>{const v=new qg;v.setWithCredentials(!0),v.listenOnce(Wg.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case nu.NO_ERROR:const A=v.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case nu.TIMEOUT:ae(Mt,`RPC '${e}' ${h} timed out`),g(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const S=v.getStatus();if(ae(Mt,`RPC '${e}' ${h} failed with status:`,S,"response text:",v.getResponseText()),S>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const L=z==null?void 0:z.error;if(L&&L.status&&L.message){const B=function(W){const H=W.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN}(L.status);g(new me(B,L.message))}else g(new me(ie.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{c_:e,streamId:h,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{ae(Mt,`RPC '${e}' ${h} completed.`)}});const w=JSON.stringify(a);ae(Mt,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",w,s,15)})}P_(e,n,s){const a=Gh(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Gg(),m=Qg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");ae(Mt,`Creating RPC '${e}' stream ${a}: ${w}`,g);const A=h.createWebChannel(w,g);this.T_(A);let S=!1,z=!1;const L=new aS({Ho:F=>{z?ae(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,F):(S||(ae(Mt,`Opening RPC '${e}' stream ${a} transport.`),A.open(),S=!0),ae(Mt,`RPC '${e}' stream ${a} sending:`,F),A.send(F))},Yo:()=>A.close()}),B=(F,W,H)=>{F.listen(W,K=>{try{H(K)}catch(Z){setTimeout(()=>{throw Z},0)}})};return B(A,sa.EventType.OPEN,()=>{z||(ae(Mt,`RPC '${e}' stream ${a} transport opened.`),L.s_())}),B(A,sa.EventType.CLOSE,()=>{z||(z=!0,ae(Mt,`RPC '${e}' stream ${a} transport closed`),L.__(),this.I_(A))}),B(A,sa.EventType.ERROR,F=>{z||(z=!0,ri(Mt,`RPC '${e}' stream ${a} transport errored. Name:`,F.name,"Message:",F.message),L.__(new me(ie.UNAVAILABLE,"The operation could not be completed")))}),B(A,sa.EventType.MESSAGE,F=>{var W;if(!z){const H=F.data[0];et(!!H,16349);const K=H,Z=(K==null?void 0:K.error)||((W=K[0])===null||W===void 0?void 0:W.error);if(Z){ae(Mt,`RPC '${e}' stream ${a} received error:`,Z);const fe=Z.status;let pe=function(C){const P=lt[C];if(P!==void 0)return Ty(P)}(fe),k=Z.message;pe===void 0&&(pe=ie.INTERNAL,k="Unknown error status: "+fe+" with message "+Z.message),z=!0,L.__(new me(pe,k)),A.close()}else ae(Mt,`RPC '${e}' stream ${a} received:`,H),L.a_(H)}}),B(m,Kg.STAT_EVENT,F=>{F.stat===Lh.PROXY?ae(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):F.stat===Lh.NOPROXY&&ae(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.o_()},0),L}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i){return new mT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="PersistentStream";class uS{constructor(e,n,s,a,c,h,m,g){this.Fi=e,this.w_=s,this.S_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new My(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.b_===n&&this.W_(s,a)},s=>{e(()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{s(()=>this.G_(a))}),this.stream.onMessage(a=>{s(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ae(Hm,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ae(Hm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cS extends uS{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=ET(this.serializer,e),s=function(c){if(!("targetChange"in c))return we.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Hs(h.readTime):we.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=$h(g)?{documents:wT(c,g)}:{query:TT(c,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yT(c,h.resumeToken);const v=Wh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=gT(c,h.snapshotVersion.toTimestamp());const v=Wh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=IT(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class fS extends hS{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,Kh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ie.UNKNOWN,c.toString())})}Jo(e,n,s,a,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Kh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ie.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class dS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Sr(n),this._a=!1):ae("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class pS{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{xa(this)&&(ae(Zs,"Restarting streams for network reachability change."),await async function(g){const v=Ne(g);v.Ia.add(4),await Pa(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Lu(v)}(this))})}),this.Aa=new dS(s,a)}}async function Lu(i){if(xa(i))for(const e of i.da)await e(!0)}async function Pa(i){for(const e of i.da)await e(!1)}function by(i,e){const n=Ne(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),If(n)?Sf(n):oo(n).x_()&&Tf(n,e))}function wf(i,e){const n=Ne(i),s=oo(n);n.Ta.delete(e),s.x_()&&Fy(n,e),n.Ta.size===0&&(s.x_()?s.B_():xa(n)&&n.Aa.set("Unknown"))}function Tf(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(i).H_(e)}function Fy(i,e){i.Ra.$e(e),oo(i).Y_(e)}function Sf(i){i.Ra=new hT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),oo(i).start(),i.Aa.aa()}function If(i){return xa(i)&&!oo(i).M_()&&i.Ta.size>0}function xa(i){return Ne(i).Ia.size===0}function zy(i){i.Ra=void 0}async function mS(i){i.Aa.set("Online")}async function gS(i){i.Ta.forEach((e,n)=>{Tf(i,e)})}async function yS(i,e){zy(i),If(i)?(i.Aa.la(e),Sf(i)):i.Aa.set("Unknown")}async function vS(i,e,n){if(i.Aa.set("Online"),e instanceof Iy&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a.Ta.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.Ta.delete(m),a.Ra.removeTarget(m))}(i,e)}catch(s){ae(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qm(i,s)}else if(e instanceof su?i.Ra.Ye(e):e instanceof Sy?i.Ra.it(e):i.Ra.et(e),!n.isEqual(we.min()))try{const s=await Ly(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.Ra.Pt(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.Ta.get(v);w&&c.Ta.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=c.Ta.get(g);if(!w)return;c.Ta.set(g,w.withResumeToken(Dt.EMPTY_BYTE_STRING,w.snapshotVersion)),Fy(c,g);const A=new Yr(w.target,g,v,w.sequenceNumber);Tf(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ae(Zs,"Failed to raise snapshot:",s),await qm(i,s)}}async function qm(i,e,n){if(!so(e))throw e;i.Ia.add(1),await Pa(i),i.Aa.set("Offline"),n||(n=()=>Ly(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae(Zs,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Lu(i)})}async function Wm(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),ae(Zs,"RemoteStore received new credentials");const s=xa(n);n.Ia.add(3),await Pa(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Lu(n)}async function _S(i,e){const n=Ne(i);e?(n.Ia.delete(2),await Lu(n)):e||(n.Ia.add(2),await Pa(n),n.Aa.set("Unknown"))}function oo(i){return i.Va||(i.Va=function(n,s,a){const c=Ne(n);return c.ia(),new cS(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Zo:mS.bind(null,i),e_:gS.bind(null,i),n_:yS.bind(null,i),J_:vS.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),If(i)?Sf(i):i.Aa.set("Unknown")):(await i.Va.stop(),zy(i))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new Cf(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),so(i))return new me(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=oa(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.fa=new st(_e.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Te(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class eo{constructor(e,n,s,a,c,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new eo(e,n,qs.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class wS{constructor(){this.queries=Qm(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const a=Ne(n),c=a.queries;a.queries=Qm(),c.forEach((h,m)=>{for(const g of m.wa)g.onError(s)})})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function Qm(){return new Wi(i=>dy(i),Pu)}async function TS(i,e){const n=Ne(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Sa()&&e.ba()&&(s=2):(c=new ES,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(a,!0);break;case 1:c.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Uy(h,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&Af(n)}async function SS(i,e){const n=Ne(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.wa.indexOf(e);h>=0&&(c.wa.splice(h,1),c.wa.length===0?a=e.ba()?0:1:!c.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function IS(i,e){const n=Ne(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.wa)m.Ca(a)&&(s=!0);h.ya=a}}s&&Af(n)}function CS(i,e,n){const s=Ne(i),a=s.queries.get(e);if(a)for(const c of a.wa)c.onError(n);s.queries.delete(e)}function Af(i){i.Da.forEach(e=>{e.next()})}var Xh,Gm;(Gm=Xh||(Xh={})).Fa="default",Gm.Cache="cache";class AS{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.key=e}}class $y{constructor(e){this.key=e}}class RS{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=py(e),this.eu=new qs(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new Km,a=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,A)=>{const S=a.get(w),z=xu(this.query,A)?A:null,L=!!S&&this.mutatedKeys.has(S.key),B=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let F=!1;S&&z?S.data.isEqual(z.data)?L!==B&&(s.track({type:3,doc:z}),F=!0):this.iu(S,z)||(s.track({type:2,doc:z}),F=!0,(g&&this.Xa(z,g)>0||v&&this.Xa(z,v)<0)&&(m=!0)):!S&&z?(s.track({type:0,doc:z}),F=!0):S&&!z&&(s.track({type:1,doc:S}),F=!0,(g||v)&&(m=!0)),F&&(z?(h=h.add(z),c=B?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{eu:h,ru:s,Ds:m,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((w,A)=>function(z,L){const B=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{At:F})}};return B(z)-B(L)}(w.type,A.type)||this.Xa(w.doc,A.doc)),this.su(s),a=a!=null&&a;const m=n&&!a?this.ou():[],g=this.Za.size===0&&this.current&&!a?1:0,v=g!==this.Ya;return this.Ya=g,h.length!==0||v?{snapshot:new eo(this.query,e.eu,c,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Km,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new $y(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new By(s))}),n}uu(e){this.Ha=e.qs,this.Za=Le();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return eo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Rf="SyncEngine";class kS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class PS{constructor(e){this.key=e,this.lu=!1}}class xS{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Wi(m=>dy(m),Pu),this.Tu=new Map,this.Iu=new Set,this.du=new st(_e.comparator),this.Eu=new Map,this.Au=new yf,this.Ru={},this.Vu=new Map,this.mu=Js.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function DS(i,e,n=!0){const s=Ky(i);let a;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.cu()):a=await jy(s,e,n,!0),a}async function NS(i,e){const n=Ky(i);await jy(n,e,!0,!1)}async function jy(i,e,n,s){const a=await tS(i.localStore,Qn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await VS(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&by(i.remoteStore,a),m}async function VS(i,e,n,s,a){i.gu=(A,S,z)=>async function(B,F,W,H){let K=F.view.nu(W);K.Ds&&(K=await Um(B.localStore,F.query,!1).then(({documents:k})=>F.view.nu(k,K)));const Z=H&&H.targetChanges.get(F.targetId),fe=H&&H.targetMismatches.get(F.targetId)!=null,pe=F.view.applyChanges(K,B.isPrimaryClient,Z,fe);return Ym(B,F.targetId,pe._u),pe.snapshot}(i,A,S,z);const c=await Um(i.localStore,e,!0),h=new RS(e,c.qs),m=h.nu(c.documents),g=ka.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);Ym(i,n,v._u);const w=new kS(e,n,h);return i.Pu.set(e,w),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),v.snapshot}async function LS(i,e,n){const s=Ne(i),a=s.Pu.get(e),c=s.Tu.get(a.targetId);if(c.length>1)return s.Tu.set(a.targetId,c.filter(h=>!Pu(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Qh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&wf(s.remoteStore,a.targetId),Yh(s,a.targetId)}).catch(Iu)):(Yh(s,a.targetId),await Qh(s.localStore,a.targetId,!0))}async function OS(i,e){const n=Ne(i),s=n.Pu.get(e),a=n.Tu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wf(n.remoteStore,s.targetId))}async function Hy(i,e){const n=Ne(i);try{const s=await ZT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n.Eu.get(c);h&&(et(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.lu=!0:a.modifiedDocuments.size>0?et(h.lu,14607):a.removedDocuments.size>0&&(et(h.lu,42227),h.lu=!1))}),await Wy(n,s,e)}catch(s){await Iu(s)}}function Xm(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Pu.forEach((c,h)=>{const m=h.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Ne(h);g.onlineState=m;let v=!1;g.queries.forEach((w,A)=>{for(const S of A.wa)S.va(m)&&(v=!0)}),v&&Af(g)}(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MS(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),c=a&&a.key;if(c){let h=new st(_e.comparator);h=h.insert(c,Ft.newNoDocument(c,we.min()));const m=Le().add(c),g=new Vu(we.min(),new Map,new st(Ae),h,m);await Hy(s,g),s.du=s.du.remove(c),s.Eu.delete(e),kf(s)}else await Qh(s.localStore,e,!1).then(()=>Yh(s,e,n)).catch(Iu)}function Yh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||qy(i,s)})}function qy(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(wf(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),kf(i))}function Ym(i,e,n){for(const s of n)s instanceof By?(i.Au.addReference(s.key,e),bS(i,s)):s instanceof $y?(ae(Rf,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||qy(i,s.key)):Te(19791,{yu:s})}function bS(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ae(Rf,"New document in limbo: "+n),i.Iu.add(s),kf(i))}function kf(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new _e(Je.fromString(e)),s=i.mu.next();i.Eu.set(s,new PS(n)),i.du=i.du.insert(n,s),by(i.remoteStore,new Yr(Qn(fy(n.path)),s,"TargetPurposeLimboResolution",Cu.ue))}}async function Wy(i,e,n){const s=Ne(i),a=[],c=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,g)=>{h.push(s.gu(g,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const A=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(v){a.push(v);const A=_f.Es(g.targetId,v);c.push(A)}}))}),await Promise.all(h),s.hu.J_(a),await async function(g,v){const w=Ne(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>G.forEach(v,S=>G.forEach(S.Is,z=>w.persistence.referenceDelegate.addReference(A,S.targetId,z)).next(()=>G.forEach(S.ds,z=>w.persistence.referenceDelegate.removeReference(A,S.targetId,z)))))}catch(A){if(!so(A))throw A;ae(Ef,"Failed to update sequence numbers: "+A)}for(const A of v){const S=A.targetId;if(!A.fromCache){const z=w.Fs.get(S),L=z.snapshotVersion,B=z.withLastLimboFreeSnapshotVersion(L);w.Fs=w.Fs.insert(S,B)}}}(s.localStore,c))}async function FS(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){ae(Rf,"User change. New user:",e.toKey());const s=await Vy(n.localStore,e);n.currentUser=e,function(c,h){c.Vu.forEach(m=>{m.forEach(g=>{g.reject(new me(ie.CANCELLED,h))})}),c.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wy(n,s.Bs)}}function zS(i,e){const n=Ne(i),s=n.Eu.get(e);if(s&&s.lu)return Le().add(s.key);{let a=Le();const c=n.Tu.get(e);if(!c)return a;for(const h of c){const m=n.Pu.get(h);a=a.unionWith(m.view.tu)}return a}}function Ky(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MS.bind(null,e),e.hu.J_=IS.bind(null,e.eventManager),e.hu.pu=CS.bind(null,e.eventManager),e}class vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return JT(this.persistence,new GT,e.initialUser,this.serializer)}Du(e){return new Ny(vf.Vi,this.serializer)}bu(e){return new rS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vu.provider={build:()=>new vu};class US extends vu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){et(this.persistence.referenceDelegate instanceof yu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LT(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Ny(s=>yu.Vi(s,n),this.serializer)}}class Jh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Xm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FS.bind(null,this.syncEngine),await _S(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wS}()}createDatastore(e){const n=Oy(e.databaseInfo.databaseId),s=function(c){return new lS(c)}(e.databaseInfo);return function(c,h,m,g){return new fS(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new pS(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Xm(this.syncEngine,n,0),function(){return jm.C()?new jm:new iS}())}createSyncEngine(e,n){return function(a,c,h,m,g,v,w){const A=new xS(a,c,h,m,g,v);return w&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ne(a);ae(Zs,"RemoteStore shutting down."),c.Ia.add(5),await Pa(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jh.provider={build:()=>new Jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="FirestoreClient";class $S{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=bt.UNAUTHENTICATED,this.clientId=Zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{ae(ui,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae(ui,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Uy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Th(i,e){i.asyncQueue.verifyOperationInProgress(),ae(ui,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Vy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>{ri("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ae("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{ri("Terminating Firestore due to IndexedDb database deletion failed",a)})}),i._offlineComponents=e}async function Jm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await jS(i);ae(ui,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Wm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Wm(e.remoteStore,a)),i._onlineComponents=e}async function jS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae(ui,"Using user provided OfflineComponentProvider");try{await Th(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Th(i,new vu)}}else ae(ui,"Using default OfflineComponentProvider"),await Th(i,new US(void 0));return i._offlineComponents}async function HS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae(ui,"Using user provided OnlineComponentProvider"),await Jm(i,i._uninitializedComponentsProvider._online)):(ae(ui,"Using default OnlineComponentProvider"),await Jm(i,new Jh))),i._onlineComponents}async function qS(i){const e=await HS(i),n=e.eventManager;return n.onListen=DS.bind(null,e.syncEngine),n.onUnlisten=LS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OS.bind(null,e.syncEngine),n}function WS(i,e,n={}){const s=new Bi;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const w=new BS({next:S=>{w.Ou(),h.enqueueAndForget(()=>SS(c,A)),S.fromCache&&g.source==="server"?v.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),A=new AS(m,w,{includeMetadataChanges:!0,ka:!0});return TS(c,A)}(await qS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="firestore.googleapis.com",eg=!0;class tg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gy,this.ssl=eg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:eg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NT)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iw;switch(s.type){case"firstParty":return new lw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Zm.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Zm.delete(n),s.terminate())}(this),Promise.resolve()}}function KS(i,e,n,s={}){var a;i=Mh(i,Pf);const c=af(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${n}`;c&&(NE(`https://${g}`),ME("Firestore",!0)),h.host!==Gy&&h.host!==g&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:s});if(!uu(v,m)&&(i._setSettings(v),s.mockUserToken)){let w,A;if(typeof s.mockUserToken=="string")w=s.mockUserToken,A=bt.MOCK_USER;else{w=VE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new bt(S)}i._authCredentials=new sw(new Yg(w,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ou(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Aa(n,vn._jsonSchema))return new vn(e,s||null,new _e(Je.fromString(n.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:ct("string",vn._jsonSchemaVersion),referencePath:ct("string")};class Ws extends Ou{constructor(e,n,s){super(e,n,fy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new _e(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function QS(i,e,...n){if(i=qE(i),i instanceof Pf){const s=Je.fromString(e,...n);return pm(s),new Ws(i,null,s)}{if(!(i instanceof vn||i instanceof Ws))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Je.fromString(e,...n));return pm(s),new Ws(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="AsyncQueue";class rg{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new My(this,"async_queue_retry"),this.oc=()=>{const s=wh();s&&ae(ng,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Bi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!so(e))throw e;ae(ng,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Sr("INTERNAL UNHANDLED ERROR: ",ig(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=Cf.createAndSchedule(this,e,n,s,c=>this.lc(c));return this.ec.push(a),a}ac(){this.tc&&Te(47125,{hc:ig(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function ig(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Xy extends Pf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new rg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rg(e),this._firestoreClient=void 0,await e}}}function GS(i,e){const n=typeof i=="object"?i:K1(),s=typeof i=="string"?i:fu,a=$1(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=xE("firestore");c&&KS(a,...c)}return a}function XS(i){if(i._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YS(i),i._firestoreClient}function YS(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,v,w){return new Rw(m,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Qy(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new $S(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Dt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Aa(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:ct("string",Kn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(Aa(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:ct("string",ti._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Aa(e,ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ni(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:ct("string",ni._jsonSchemaVersion),vectorValues:ct("object")};const JS=new RegExp("[~\\*/\\[\\]]");function ZS(i,e,n){if(e.search(JS)>=0)throw sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Yy(...e.split("."))._internalPath}catch{throw sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function sg(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let h="";return new me(ie.INVALID_ARGUMENT,c+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eI extends Jy{data(){return super.data()}}function Zy(i,e){return typeof e=="string"?ZS(i,e):e instanceof Yy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nI{convertValue(e,n="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ra(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Fh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new ni(c)}convertGeoPoint(e){return new ti(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ru(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(va(e));default:return null}}convertTimestamp(e){const n=si(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);et(xy(s),9688,{name:e});const a=new _a(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return a.isEqual(n)||Sr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends Jy{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Zy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:ct("string",Ks._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class ou extends Ks{data(e={}){return super.data(e)}}class Qs{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Zl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ou(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new ou(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new ou(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Zl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:rI(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}Qs._jsonSchemaVersion="firestore/querySnapshot/1.0",Qs._jsonSchema={type:ct("string",Qs._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class iI extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function sI(i){i=Mh(i,Ou);const e=Mh(i.firestore,Xy),n=XS(e),s=new iI(e);return tI(i._query),WS(n,i._query).then(a=>new Qs(e,s,i,a))}(function(e,n=!0){(function(a){io=a})(W1),hu(new ma("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new Xy(new ow(s.getProvider("auth-internal")),new uw(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(v.options.projectId,w)}(h,a),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),js(um,cm,e),js(um,cm,"esm2017")})();var oI="firebase",aI="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(oI,aI,"app");const lI={apiKey:"TU_API_KEY",authDomain:"tu-proyecto.firebaseapp.com",projectId:"tu-proyecto",storageBucket:"tu-proyecto.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abc123"},uI=Bg(lI),cI=GS(uI),hI=async i=>{const n=(await sI(QS(cI,"products"))).docs.map(s=>({id:s.id,...s.data()}));return i?n.filter(s=>s.category===i):n};function fI({item:i}){return ee.createElement("div",{style:{border:"1px solid #ccc",padding:"1rem",width:"200px"}},ee.createElement("h3",null,i.name),ee.createElement("p",null,"$",i.price),ee.createElement(vr,{to:`/item/${i.id}`},"Ver más"))}function og({greeting:i}){const{categoryId:e}=vg(),[n,s]=j.useState([]),[a,c]=j.useState(!0),[h,m]=j.useState(null);return j.useEffect(()=>{c(!0),m(null),hI(e).then(g=>s(g)).catch(()=>m("Error al cargar productos")).finally(()=>c(!1))},[e]),ee.createElement("section",{style:{padding:"2rem",textAlign:"center"}},ee.createElement("h2",null,i||(e?`Categoría: ${e}`:"Todos los productos")),a&&ee.createElement("p",null,"Cargando productos..."),h&&ee.createElement("p",{style:{color:"red"}},h),ee.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",flexWrap:"wrap"}},n.map(g=>ee.createElement(fI,{key:g.id,item:g}))))}function dI({stock:i,initial:e,onAdd:n}){const[s,a]=j.useState(e),[c,h]=j.useState(!1),m=()=>{s<i&&a(s+1)},g=()=>{s>1&&a(s-1)},v=()=>{n(s),h(!0)};return i===0?ee.createElement("p",null,"Producto sin stock 😞"):ee.createElement("div",null,c?ee.createElement("p",null,"✅ ¡Producto agregado al carrito!"):ee.createElement(ee.Fragment,null,ee.createElement("div",null,ee.createElement("button",{onClick:g},"−"),ee.createElement("span",{style:{margin:"0 10px"}},s),ee.createElement("button",{onClick:m},"+")),ee.createElement("button",{onClick:v,style:{marginTop:"10px"}},"Agregar al carrito")))}const pI=[{id:"1",name:"Celular",category:"electronica",price:500,stock:10},{id:"2",name:"Remera",category:"ropa",price:30,stock:15},{id:"3",name:"Licuadora",category:"hogar",price:100,stock:5}];function mI(){const{itemId:i}=vg(),[e,n]=j.useState(null),{addItem:s}=j.useContext(sf);j.useEffect(()=>{const c=pI.find(h=>h.id===i);new Promise(h=>{setTimeout(()=>h(c),1e3)}).then(n)},[i]);const a=c=>{e&&s(e,c)};return ee.createElement("div",{style:{padding:"2rem",textAlign:"center"}},e?ee.createElement(ee.Fragment,null,ee.createElement("h2",null,e.name),ee.createElement("p",null,"Precio: $",e.price),ee.createElement(dI,{stock:e.stock||10,initial:1,onAdd:a})):ee.createElement("p",null,"Cargando..."))}function gI(){return ee.createElement("div",{style:{padding:"2rem",textAlign:"center"}},ee.createElement("h2",null,"404 - Página no encontrada"))}function yI(){return ee.createElement(A0,null,ee.createElement(Vg,null,ee.createElement(_E,null,ee.createElement(n0,null,ee.createElement(ia,{path:"/",element:ee.createElement(og,{greeting:"¡Bienvenido a Crissacio Shop!"})}),ee.createElement(ia,{path:"/category/:categoryId",element:ee.createElement(og,null)}),ee.createElement(ia,{path:"/item/:itemId",element:ee.createElement(mI,null)}),ee.createElement(ia,{path:"*",element:ee.createElement(gI,null)})),ee.createElement(gE,{position:"top-right",autoClose:3e3}))))}c_.createRoot(document.getElementById("root")).render(ee.createElement(ee.StrictMode,null,ee.createElement(Vg,null,ee.createElement(yI,null))));
